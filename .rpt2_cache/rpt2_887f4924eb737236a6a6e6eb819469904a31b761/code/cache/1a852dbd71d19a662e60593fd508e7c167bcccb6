{"code":"import * as tslib_1 from \"tslib\";\r\nimport Popper from 'popper.js';\r\nimport { isFunction } from 'lodash-es';\r\nvar DEFAULT_OPTIONS = {\r\n    container: false,\r\n    delay: 0,\r\n    html: false,\r\n    placement: 'top',\r\n    title: '',\r\n    template: '<div class=\"tooltip\" role=\"tooltip\"><div class=\"tooltip-arrow\"></div><div class=\"tooltip-inner\"></div></div>',\r\n    trigger: 'hover focus',\r\n    offset: 0,\r\n    arrowSelector: '.tooltip-arrow, .tooltip__arrow',\r\n    innerSelector: '.tooltip-inner, .tooltip__inner',\r\n};\r\nvar Tooltip = /** @class */ (function () {\r\n    function Tooltip(reference, options) {\r\n        var _this = this;\r\n        this.reference = null;\r\n        this.options = {};\r\n        this._isOpen = false;\r\n        this._popperOptions = {};\r\n        this._isOpening = false;\r\n        this._tooltipNode = null;\r\n        this.popperInstance = null;\r\n        this._showTimeout = null;\r\n        //\r\n        // Public methods\r\n        //\r\n        /**\r\n         * Reveals an element's tooltip. This is considered a \"manual\" triggering of the tooltip.\r\n         * Tooltips with zero-length titles are never displayed.\r\n         * @method Tooltip#show\r\n         * @memberof Tooltip\r\n         */\r\n        this.show = function () { return _this._show(_this.reference, _this.options); };\r\n        /**\r\n         * Hides an element’s tooltip. This is considered a “manual” triggering of the tooltip.\r\n         * @method Tooltip#hide\r\n         * @memberof Tooltip\r\n         */\r\n        this.hide = function () { return _this._hide(); };\r\n        /**\r\n         * Hides and destroys an element’s tooltip.\r\n         * @method Tooltip#dispose\r\n         * @memberof Tooltip\r\n         */\r\n        this.dispose = function () { return _this._dispose(); };\r\n        /**\r\n         * Toggles an element’s tooltip. This is considered a “manual” triggering of the tooltip.\r\n         * @method Tooltip#toggle\r\n         * @memberof Tooltip\r\n         */\r\n        this.toggle = function () {\r\n            if (_this._isOpen) {\r\n                return _this.hide();\r\n            }\r\n            else {\r\n                return _this.show();\r\n            }\r\n        };\r\n        /**\r\n         * Updates the tooltip's title content\r\n         * @method Tooltip#updateTitleContent\r\n         * @memberof Tooltip\r\n         * @param {String|HTMLElement} title - The new content to use for the title\r\n         */\r\n        this.updateTitleContent = function (title) { return _this._updateTitleContent(title); };\r\n        //\r\n        // Private methods\r\n        //\r\n        this._events = [];\r\n        this._setTooltipNodeEvent = function (evt, reference, delay, options) {\r\n            var relatedreference = evt.relatedreference || evt.toElement || evt.relatedTarget;\r\n            var callback = function (evt2) {\r\n                var relatedreference2 = evt2.relatedreference || evt2.toElement || evt2.relatedTarget;\r\n                // Remove event listener after call\r\n                _this._tooltipNode.removeEventListener(evt.type, callback);\r\n                // If the new reference is not the reference element\r\n                if (!reference.contains(relatedreference2)) {\r\n                    // Schedule to hide tooltip\r\n                    _this._scheduleHide(reference, options.delay, options, evt2);\r\n                }\r\n            };\r\n            if (_this._tooltipNode.contains(relatedreference)) {\r\n                // listen to mouseleave on the tooltip element to be able to hide the tooltip\r\n                _this._tooltipNode.addEventListener(evt.type, callback);\r\n                return true;\r\n            }\r\n            return false;\r\n        };\r\n        // apply user options over default ones\r\n        options = tslib_1.__assign({}, DEFAULT_OPTIONS, options);\r\n        reference.jquery && (reference = reference[0]);\r\n        // cache reference and options\r\n        this.reference = reference;\r\n        this.options = options;\r\n        //  this.onUpdate=options.onUpdate||noop\r\n        // get events list\r\n        var events = typeof options.trigger === 'string'\r\n            ? options.trigger\r\n                .split(' ')\r\n                .filter(function (trigger) { return ['click', 'hover', 'focus'].indexOf(trigger) !== -1; })\r\n            : [];\r\n        // set initial state\r\n        this._isOpen = false;\r\n        this._popperOptions = {};\r\n        // set event listeners\r\n        this._setEventListeners(reference, events, options);\r\n    }\r\n    /**\r\n     * Creates a new tooltip node\r\n     * @memberof Tooltip\r\n     * @private\r\n     * @param {HTMLElement} reference\r\n     * @param {String} template\r\n     * @param {String|HTMLElement|TitleFunction} title\r\n     * @param {Boolean} allowHtml\r\n     * @return {HTMLElement} tooltipNode\r\n     */\r\n    Tooltip.prototype._create = function (reference, template, title, allowHtml) {\r\n        // create tooltip element\r\n        var tooltipGenerator = window.document.createElement('div');\r\n        tooltipGenerator.innerHTML = template.trim();\r\n        var tooltipNode = tooltipGenerator.childNodes[0];\r\n        // add unique ID to our tooltip (needed for accessibility reasons)\r\n        tooltipNode.id = \"tooltip_\" + Math.random()\r\n            .toString(36)\r\n            .substr(2, 10);\r\n        // set initial `aria-hidden` state to `false` (it's visible!)\r\n        tooltipNode.setAttribute('aria-hidden', 'false');\r\n        // add title to tooltip\r\n        var titleNode = tooltipGenerator.querySelector(this.options.innerSelector);\r\n        this._addTitleContent(reference, title, allowHtml, titleNode);\r\n        // return the generated tooltip node\r\n        return tooltipNode;\r\n    };\r\n    Tooltip.prototype._addTitleContent = function (reference, title, allowHtml, titleNode) {\r\n        if (title.nodeType === 1 || title.nodeType === 11) {\r\n            // if title is a element node or document fragment, append it only if allowHtml is true\r\n            allowHtml && titleNode.appendChild(title);\r\n        }\r\n        else if (isFunction(title)) {\r\n            // if title is a function, call it and set textContent or innerHtml depending by `allowHtml` value\r\n            var titleText = title.call(reference);\r\n            allowHtml\r\n                ? (titleNode.innerHTML = titleText)\r\n                : (titleNode.textContent = titleText);\r\n        }\r\n        else {\r\n            // if it's just a simple text, set textContent or innerHtml depending by `allowHtml` value\r\n            allowHtml ? (titleNode.innerHTML = title) : (titleNode.textContent = title);\r\n        }\r\n    };\r\n    Tooltip.prototype._show = function (reference, options) {\r\n        // don't show if it's already visible\r\n        // or if it's not being showed\r\n        if (this._isOpen && !this._isOpening) {\r\n            return this;\r\n        }\r\n        this._isOpen = true;\r\n        // if the tooltipNode already exists, just show it\r\n        if (this._tooltipNode) {\r\n            this._tooltipNode.style.visibility = 'visible';\r\n            this._tooltipNode.setAttribute('aria-hidden', 'false');\r\n            this.popperInstance.update();\r\n            return this;\r\n        }\r\n        // get title\r\n        var title = reference.getAttribute('title') || options.title;\r\n        // don't show tooltip if no title is defined\r\n        if (!title) {\r\n            return this;\r\n        }\r\n        // create tooltip node\r\n        var tooltipNode = this._create(reference, options.template, title, options.html);\r\n        // Add `aria-describedby` to our reference element for accessibility reasons\r\n        reference.setAttribute('aria-describedby', tooltipNode.id);\r\n        // append tooltip to container\r\n        var container = this._findContainer(options.container, reference);\r\n        this._append(tooltipNode, container);\r\n        this._popperOptions = tslib_1.__assign({}, options.popperOptions, { placement: options.placement });\r\n        this._popperOptions.modifiers = tslib_1.__assign({}, this._popperOptions.modifiers, { arrow: {\r\n                element: this.options.arrowSelector,\r\n            }, offset: {\r\n                offset: options.offset,\r\n            } });\r\n        if (options.boundariesElement) {\r\n            this._popperOptions.modifiers.preventOverflow = {\r\n                boundariesElement: options.boundariesElement,\r\n            };\r\n        }\r\n        this.popperInstance = new Popper(reference, tooltipNode, this._popperOptions);\r\n        this._tooltipNode = tooltipNode;\r\n        return this;\r\n    };\r\n    Tooltip.prototype._hide = function () {\r\n        // don't hide if it's already hidden\r\n        if (!this._isOpen) {\r\n            return this;\r\n        }\r\n        this._isOpen = false;\r\n        // hide tooltipNode\r\n        this._tooltipNode.style.visibility = 'hidden';\r\n        this._tooltipNode.setAttribute('aria-hidden', 'true');\r\n        return this;\r\n    };\r\n    Tooltip.prototype._dispose = function () {\r\n        var _this = this;\r\n        // remove event listeners first to prevent any unexpected behaviour\r\n        this._events.forEach(function (_a) {\r\n            var func = _a.func, event = _a.event;\r\n            _this.reference.removeEventListener(event, func);\r\n        });\r\n        this._events = [];\r\n        if (this._tooltipNode) {\r\n            this._hide();\r\n            // destroy instance\r\n            this.popperInstance.destroy();\r\n            // destroy tooltipNode if removeOnDestroy is not set, as popperInstance.destroy() already removes the element\r\n            if (!this.popperInstance.options.removeOnDestroy) {\r\n                this._tooltipNode.parentNode.removeChild(this._tooltipNode);\r\n                this._tooltipNode = null;\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n    Tooltip.prototype._findContainer = function (container, reference) {\r\n        // if container is a query, get the relative element\r\n        if (typeof container === 'string') {\r\n            container = window.document.querySelector(container);\r\n        }\r\n        else if (container === false) {\r\n            // if container is `false`, set it to reference parent\r\n            container = reference.parentNode;\r\n        }\r\n        return container;\r\n    };\r\n    /**\r\n     * Append tooltip to container\r\n     * @memberof Tooltip\r\n     * @private\r\n     * @param {HTMLElement} tooltipNode\r\n     * @param {HTMLElement|String|false} container\r\n     */\r\n    Tooltip.prototype._append = function (tooltipNode, container) {\r\n        container.appendChild(tooltipNode);\r\n    };\r\n    Tooltip.prototype._setEventListeners = function (reference, events, options) {\r\n        var _this = this;\r\n        var directEvents = [];\r\n        var oppositeEvents = [];\r\n        events.forEach(function (event) {\r\n            switch (event) {\r\n                case 'hover':\r\n                    directEvents.push('mouseenter');\r\n                    oppositeEvents.push('mouseleave');\r\n                    break;\r\n                case 'focus':\r\n                    directEvents.push('focus');\r\n                    oppositeEvents.push('blur');\r\n                    break;\r\n                case 'click':\r\n                    directEvents.push('click');\r\n                    oppositeEvents.push('click');\r\n                    break;\r\n            }\r\n        });\r\n        // schedule show tooltip\r\n        directEvents.forEach(function (event) {\r\n            var func = function (evt) {\r\n                if (_this._isOpening === true) {\r\n                    return;\r\n                }\r\n                evt.usedByTooltip = true;\r\n                _this._scheduleShow(reference, options.delay, options, evt);\r\n            };\r\n            _this._events.push({ event: event, func: func });\r\n            reference.addEventListener(event, func);\r\n        });\r\n        // schedule hide tooltip\r\n        oppositeEvents.forEach(function (event) {\r\n            var func = function (evt) {\r\n                if (evt.usedByTooltip === true) {\r\n                    return;\r\n                }\r\n                _this._scheduleHide(reference, options.delay, options, evt);\r\n            };\r\n            _this._events.push({ event: event, func: func });\r\n            reference.addEventListener(event, func);\r\n            if (event === 'click' && options.closeOnClickOutside) {\r\n                document.addEventListener('mousedown', function (e) {\r\n                    if (!_this._isOpening) {\r\n                        return;\r\n                    }\r\n                    var popper = _this.popperInstance.popper;\r\n                    if (reference.contains(e.target) ||\r\n                        popper.contains(e.target)) {\r\n                        return;\r\n                    }\r\n                    func(e);\r\n                }, true);\r\n            }\r\n        });\r\n    };\r\n    Tooltip.prototype._scheduleShow = function (reference, delay, options, evt) {\r\n        var _this = this;\r\n        this._isOpening = true;\r\n        // defaults to 0\r\n        var computedDelay = (delay && delay.show) || delay || 0;\r\n        this._showTimeout = window.setTimeout(function () { return _this._show(reference, options); }, computedDelay);\r\n    };\r\n    Tooltip.prototype._scheduleHide = function (reference, delay, options, evt) {\r\n        var _this = this;\r\n        if (window._trackerAnalyseDisableDide) {\r\n            return;\r\n        }\r\n        this._isOpening = false;\r\n        // defaults to 0\r\n        var computedDelay = (delay && delay.hide) || delay || 0;\r\n        window.setTimeout(function () {\r\n            window.clearTimeout(_this._showTimeout);\r\n            if (_this._isOpen === false) {\r\n                return;\r\n            }\r\n            if (!document.body.contains(_this._tooltipNode)) {\r\n                return;\r\n            }\r\n            // if we are hiding because of a mouseleave, we must check that the new\r\n            // reference isn't the tooltip, because in this case we don't want to hide it\r\n            if (evt.type === 'mouseleave') {\r\n                var isSet = _this._setTooltipNodeEvent(evt, reference, delay, options);\r\n                // if we set the new event, don't hide the tooltip yet\r\n                // the new event will take care to hide it if necessary\r\n                if (isSet) {\r\n                    return;\r\n                }\r\n            }\r\n            _this._hide();\r\n        }, computedDelay);\r\n    };\r\n    Tooltip.prototype._updateTitleContent = function (title) {\r\n        if (typeof this._tooltipNode === 'undefined') {\r\n            if (typeof this.options.title !== 'undefined') {\r\n                this.options.title = title;\r\n            }\r\n            return;\r\n        }\r\n        var titleNode = this._tooltipNode.parentNode.querySelector(this.options.innerSelector);\r\n        this._clearTitleContent(titleNode, this.options.html, this.reference.getAttribute('title') || this.options.title);\r\n        this._addTitleContent(this.reference, title, this.options.html, titleNode);\r\n        this.options.title = title;\r\n        this.popperInstance.update();\r\n    };\r\n    Tooltip.prototype._clearTitleContent = function (titleNode, allowHtml, lastTitle) {\r\n        if (lastTitle.nodeType === 1 || lastTitle.nodeType === 11) {\r\n            allowHtml && titleNode.removeChild(lastTitle);\r\n        }\r\n        else {\r\n            allowHtml ? titleNode.innerHTML = '' : titleNode.textContent = '';\r\n        }\r\n    };\r\n    return Tooltip;\r\n}());\r\nexport default Tooltip;\r\n/**\r\n * Title function, its context is the Tooltip instance.\r\n * @memberof Tooltip\r\n * @callback TitleFunction\r\n * @return {String} placement - The desired title.\r\n */\r\n//# sourceMappingURL=tooltip.js.map","map":"{\"version\":3,\"file\":\"tooltip.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../src/analyse/tooltip.ts\"],\"names\":[],\"mappings\":\"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\"}"}
