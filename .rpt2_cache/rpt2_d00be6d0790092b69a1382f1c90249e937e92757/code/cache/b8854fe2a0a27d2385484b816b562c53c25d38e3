{"code":"import actionTracker from '../core/actionTracker';\r\nimport { notChanged, isEmpty } from '../utils/util';\r\nexport default function (el, binding) {\r\n    if (notChanged(binding) || isEmpty(binding)) {\r\n        return;\r\n    }\r\n    var info = {};\r\n    if (typeof binding.value === 'object' && binding.value) {\r\n        info = binding.value;\r\n    }\r\n    else if (typeof binding.value === 'string') {\r\n        info.trackId = binding.value;\r\n    }\r\n    else if (typeof binding.value === 'number') {\r\n        info.trackId = binding.value + \"\";\r\n    }\r\n    el._trackerInfo = info;\r\n    el._isWatchTrack = true; //去除自动点击埋点\r\n    var events = Object.keys(binding.modifiers).filter(function (modifier) {\r\n        return binding.modifiers[modifier];\r\n    });\r\n    if (!events.length)\r\n        events.push('click');\r\n    events.forEach(function (event) {\r\n        el.removeEventListener(event, handleEvent, false);\r\n        el.addEventListener(event, handleEvent, false);\r\n    });\r\n}\r\nfunction handleEvent(e) {\r\n    this._trackerInfo.eventName = e.type.toUpperCase();\r\n    actionTracker.trackDom(this, this._trackerInfo);\r\n}\r\n//# sourceMappingURL=trackEvent.js.map","map":"{\"version\":3,\"file\":\"trackEvent.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../src/directives/trackEvent.ts\"],\"names\":[],\"mappings\":\"AAAA,OAAO,aAAa,MAAM,uBAAuB,CAAA;AACjD,OAAO,EAAE,UAAU,EAAE,OAAO,EAAE,MAAM,eAAe,CAAA;AAInD,MAAM,CAAC,OAAO,WAAW,EAAc,EAAE,OAAW;IAClD,IAAI,UAAU,CAAC,OAAO,CAAC,IAAI,OAAO,CAAC,OAAO,CAAC,EAAE;QAC3C,OAAM;KACP;IAED,IAAI,IAAI,GAAM,EAAE,CAAA;IAChB,IAAI,OAAO,OAAO,CAAC,KAAK,KAAK,QAAQ,IAAE,OAAO,CAAC,KAAK,EAAE;QACpD,IAAI,GAAG,OAAO,CAAC,KAAK,CAAA;KACrB;SAAM,IAAI,OAAO,OAAO,CAAC,KAAK,KAAK,QAAQ,EAAE;QAC5C,IAAI,CAAC,OAAO,GAAC,OAAO,CAAC,KAAK,CAAA;KAC3B;SAAM,IAAI,OAAO,OAAO,CAAC,KAAK,KAAK,QAAQ,EAAE;QAC5C,IAAI,CAAC,OAAO,GAAC,OAAO,CAAC,KAAK,GAAC,EAAE,CAAA;KAC9B;IACD,EAAE,CAAC,YAAY,GAAC,IAAI,CAAC;IACrB,EAAE,CAAC,aAAa,GAAC,IAAI,CAAC,CAAA,UAAU;IAEhC,IAAI,MAAM,GAAG,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,MAAM,CAAC,UAAA,QAAQ;QACzD,OAAO,OAAO,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAA;IACpC,CAAC,CAAC,CAAA;IACF,IAAI,CAAC,MAAM,CAAC,MAAM;QAAE,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAA;IAExC,MAAM,CAAC,OAAO,CAAC,UAAC,KAAY;QAC1B,EAAE,CAAC,mBAAmB,CAAC,KAAK,EAAE,WAAW,EAAE,KAAK,CAAC,CAAA;QACjD,EAAE,CAAC,gBAAgB,CAAC,KAAK,EAAE,WAAW,EAAE,KAAK,CAAC,CAAA;IAChD,CAAC,CAAC,CAAA;AACJ,CAAC;AAGD,SAAS,WAAW,CAAC,CAAO;IAC1B,IAAI,CAAC,YAAY,CAAC,SAAS,GAAC,CAAC,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC;IACjD,aAAa,CAAC,QAAQ,CAAC,IAAI,EAAC,IAAI,CAAC,YAAY,CAAC,CAAA;AAChD,CAAC\"}"}
