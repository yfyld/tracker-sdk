{"code":"var PerformanceTracker = /** @class */ (function () {\r\n    function PerformanceTracker() {\r\n        this.performance = window.performance;\r\n    }\r\n    PerformanceTracker.getInstance = function () {\r\n        if (!PerformanceTracker.instance) {\r\n            PerformanceTracker.instance = new PerformanceTracker();\r\n        }\r\n        return PerformanceTracker.instance;\r\n    };\r\n    // getResourceTiming(filter?:PerformanceEntryFilterOptions):PerformanceTime{\r\n    //   if (!this.performance) {\r\n    //     console.log('你的浏览器不支持 performance 接口')\r\n    //     return null;\r\n    //   }\r\n    //   const ts = performance.getEntries(filter);// tslint:disable-line\r\n    //   if(ts.length!==1){\r\n    //     return null;\r\n    //   }\r\n    //   const t=ts[0];\r\n    //   const times: any = {\r\n    //   }\r\n    //   return times;\r\n    // }\r\n    PerformanceTracker.prototype.getRenderTiming = function () {\r\n        if (!this.performance) {\r\n            console.log('你的浏览器不支持 performance 接口');\r\n            return null;\r\n        }\r\n        var t = performance.timing;\r\n        var times = {\r\n            //页面加载完成的时间\r\n            loadPage: t.loadEventEnd - t.navigationStart,\r\n            //解析 DOM 树结构的时间\r\n            domReady: t.domComplete - t.responseEnd,\r\n            //重定向的时间\r\n            redirect: t.redirectEnd - t.redirectStart,\r\n            //DNS 查询时间\r\n            lookupDomain: t.domainLookupEnd - t.domainLookupStart,\r\n            //读取页面第一个字节的时间\r\n            ttfb: t.responseStart - t.navigationStart,\r\n            //内容加载完成的时间\r\n            request: t.responseEnd - t.requestStart,\r\n            //执行 onload 回调函数的时间\r\n            loadEvent: t.loadEventEnd - t.loadEventStart,\r\n            // DNS 缓存时间\r\n            appcache: t.domainLookupStart - t.fetchStart,\r\n            // 卸载页面的时间\r\n            unloadEvent: t.unloadEventEnd - t.unloadEventStart,\r\n            // TCP 建立连接完成握手的时间\r\n            connect: t.connectEnd - t.connectStart\r\n        };\r\n        return times;\r\n    };\r\n    PerformanceTracker.instance = null;\r\n    return PerformanceTracker;\r\n}());\r\nvar instance = PerformanceTracker.getInstance();\r\nexport default instance;\r\n//# sourceMappingURL=performanceTracker.js.map","map":"{\"version\":3,\"file\":\"performanceTracker.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../src/core/performanceTracker.ts\"],\"names\":[],\"mappings\":\"AAGA;IAAA;QASE,gBAAW,GAAgB,MAAM,CAAC,WAAW,CAAA;IAiD/C,CAAC;IAxDQ,8BAAW,GAAlB;QACE,IAAI,CAAC,kBAAkB,CAAC,QAAQ,EAAE;YAChC,kBAAkB,CAAC,QAAQ,GAAG,IAAI,kBAAkB,EAAE,CAAA;SACvD;QACD,OAAO,kBAAkB,CAAC,QAAQ,CAAA;IACpC,CAAC;IAID,4EAA4E;IAC5E,6BAA6B;IAC7B,6CAA6C;IAC7C,mBAAmB;IACnB,MAAM;IACN,qEAAqE;IACrE,uBAAuB;IACvB,mBAAmB;IACnB,MAAM;IACN,mBAAmB;IACnB,yBAAyB;IACzB,MAAM;IACN,kBAAkB;IAClB,IAAI;IAEJ,4CAAe,GAAf;QACE,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;YACrB,OAAO,CAAC,GAAG,CAAC,yBAAyB,CAAC,CAAA;YACtC,OAAO,IAAI,CAAC;SACb;QAED,IAAM,CAAC,GAAG,WAAW,CAAC,MAAM,CAAA;QAC5B,IAAM,KAAK,GAAoB;YAC7B,WAAW;YACX,QAAQ,EAAE,CAAC,CAAC,YAAY,GAAG,CAAC,CAAC,eAAe;YAC5C,eAAe;YACf,QAAQ,EAAE,CAAC,CAAC,WAAW,GAAG,CAAC,CAAC,WAAW;YACvC,QAAQ;YACR,QAAQ,EAAE,CAAC,CAAC,WAAW,GAAG,CAAC,CAAC,aAAa;YACzC,UAAU;YACV,YAAY,EAAE,CAAC,CAAC,eAAe,GAAG,CAAC,CAAC,iBAAiB;YACrD,cAAc;YACd,IAAI,EAAE,CAAC,CAAC,aAAa,GAAG,CAAC,CAAC,eAAe;YACzC,WAAW;YACX,OAAO,EAAE,CAAC,CAAC,WAAW,GAAG,CAAC,CAAC,YAAY;YACvC,mBAAmB;YACnB,SAAS,EAAE,CAAC,CAAC,YAAY,GAAG,CAAC,CAAC,cAAc;YAC5C,WAAW;YACX,QAAQ,EAAE,CAAC,CAAC,iBAAiB,GAAG,CAAC,CAAC,UAAU;YAC5C,UAAU;YACV,WAAW,EAAE,CAAC,CAAC,cAAc,GAAG,CAAC,CAAC,gBAAgB;YAClD,kBAAkB;YAClB,OAAO,EAAE,CAAC,CAAC,UAAU,GAAG,CAAC,CAAC,YAAY;SACvC,CAAA;QAED,OAAO,KAAK,CAAA;IACd,CAAC;IAxDM,2BAAQ,GAAuB,IAAI,CAAA;IAyD5C,yBAAC;CAAA,AA1DD,IA0DC;AAED,IAAI,QAAQ,GAAG,kBAAkB,CAAC,WAAW,EAAE,CAAA;AAC/C,eAAe,QAAQ,CAAA\"}"}
