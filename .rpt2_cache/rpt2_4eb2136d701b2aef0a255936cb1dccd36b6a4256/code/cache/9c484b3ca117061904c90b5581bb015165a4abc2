{"code":"import { isThenable, curryN, isFunction, } from \"../utils/util\";\r\nimport actionTracker from \"../core/actionTracker\";\r\nvar before = curryN(2, function (trackFn, fn) { return function () {\r\n    var args = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        args[_i] = arguments[_i];\r\n    }\r\n    if (isFunction(trackFn)) {\r\n        try {\r\n            var result = trackFn.apply(this, args);\r\n            if (typeof result === 'object') {\r\n                actionTracker.track(result);\r\n            }\r\n        }\r\n        catch (e) {\r\n            console.error(e);\r\n        }\r\n    }\r\n    else if (typeof trackFn === 'object') {\r\n        actionTracker.track(trackFn);\r\n    }\r\n    else if (typeof trackFn === 'string') {\r\n        var data_1 = {\r\n            trackId: trackFn\r\n        };\r\n        actionTracker.track(data_1);\r\n    }\r\n    return fn.apply(this, args);\r\n}; });\r\nvar after = curryN(2, function (trackFn, fn) { return function () {\r\n    var _this = this;\r\n    var args = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        args[_i] = arguments[_i];\r\n    }\r\n    var r = fn.apply(this, args);\r\n    var evalF = function () {\r\n        if (isFunction(trackFn)) {\r\n            try {\r\n                var result = trackFn.apply(_this, args);\r\n                if (typeof result === 'object') {\r\n                    actionTracker.track(result);\r\n                }\r\n            }\r\n            catch (e) {\r\n                console.error(e);\r\n            }\r\n        }\r\n        else if (typeof trackFn === 'object') {\r\n            actionTracker.track(trackFn);\r\n        }\r\n        else if (typeof trackFn === 'string') {\r\n            var data_2 = {\r\n                trackId: trackFn\r\n            };\r\n            actionTracker.track(data_2);\r\n        }\r\n    };\r\n    if (isThenable(r)) {\r\n        return r.then(function (rr) {\r\n            evalF();\r\n            return rr;\r\n        });\r\n    }\r\n    evalF();\r\n    return r;\r\n}; });\r\nexport { before, after };\r\n// export const composeWith = curry((convergeFn, ops) => {\r\n//   if (isFunction (ops)) {\r\n//     ops = [ops]\r\n//   }\r\n//\r\n//   if (!isFunction(convergeFn) ||!isArray(ops) ) {\r\n//     return console.error('args type incorrect, expect convergeFn is function and ops is array')\r\n//   }\r\n//\r\n//   const compose = reduce((acc, i) => {\r\n//     if (!acc) {\r\n//       return acc || i\r\n//     }\r\n//     return i.call(null, acc)\r\n//   }, null)\r\n//\r\n//\r\n//   return curryN(1, (fn, target) => function (...args) {\r\n//     const memoizeFn = memoize(fn)\r\n//     const _r = convergeFn(\r\n//       compose(ops)\r\n//         .apply(this, [memoizeFn])\r\n//         .apply(this, args)\r\n//     ).apply(this, args)\r\n//     return memoizeFn.apply(this, args)\r\n//   })\r\n// })\r\n// export const createCounter = () => {\r\n//   let scopeCounter = 0\r\n//   return fn => function (...args) {\r\n//     fn.apply(this, args)\r\n//     scopeCounter = scopeCounter + 1\r\n//     return scopeCounter\r\n//   }\r\n// }\r\n// export const time = fn => function (...args) {\r\n//     const begin = +Date.now()\r\n//     const result = fn.apply(this, args)\r\n//     if (isThenable(result)) {\r\n//         return result.then(() => +Date.now() - begin)\r\n//     }\r\n//     return +Date.now() - begin\r\n// }\r\n//\r\n// export const evolve = curry(evols => fn => function (...args) {\r\n//   const self = this\r\n//   const memoizeFn = memoize(fn)\r\n//   return mapValues((value) => {\r\n//     return value(memoizeFn).apply(self, args)\r\n//   }, evols)\r\n// })\r\n//\r\n// export const identity = curry(fn => function (...args) {\r\n//   return fn.apply(this, args)\r\n// })\r\n//\r\n// export const nop = () => {}\r\n//\r\n// export const once = _once\r\n//# sourceMappingURL=tools.js.map","map":"{\"version\":3,\"file\":\"tools.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../src/decoratiors/tools.ts\"],\"names\":[],\"mappings\":\"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\"}"}
