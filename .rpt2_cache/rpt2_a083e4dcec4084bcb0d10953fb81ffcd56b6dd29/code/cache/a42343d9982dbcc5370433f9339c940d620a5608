{"code":"import * as tslib_1 from \"tslib\";\r\nimport { TRACKER_IDENTIFY } from \"../constant/index\";\r\nimport { getCookie, setCookie } from '@/utils/util';\r\nimport { getConfig } from './config';\r\nvar userInfo = {\r\n    userId: null,\r\n    identify: null\r\n};\r\nexport function setUserInfo(info) {\r\n    var config = getConfig();\r\n    userInfo = tslib_1.__assign({}, userInfo, { identify: getCookie(config.identify || TRACKER_IDENTIFY) }, info);\r\n}\r\nexport function getUserInfo() {\r\n    return userInfo;\r\n}\r\nexport function login(info) {\r\n    var config = getConfig();\r\n    var identify = localStorage.getItem(info.userId);\r\n    if (identify) {\r\n        setCookie(config.identify || TRACKER_IDENTIFY, identify);\r\n    }\r\n    setUserInfo(info);\r\n}\r\nexport function logout(moment) {\r\n    if (moment === void 0) { moment = true; }\r\n    var config = getConfig();\r\n    setCookie(config.identify || TRACKER_IDENTIFY, null);\r\n    if (moment && userInfo.userId) {\r\n        localStorage.setItem(userInfo.userId, userInfo.identify);\r\n    }\r\n    userInfo = {};\r\n}\r\nexport function getIdentify() {\r\n}\r\nexport function changeIdentify() {\r\n}\r\n//# sourceMappingURL=user.js.map","map":"{\"version\":3,\"file\":\"user.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../src/core/user.ts\"],\"names\":[],\"mappings\":\";AAAA,OAAO,EAAc,gBAAgB,EAAC,MAAM,mBAAmB,CAAA;AAE/D,OAAO,EAAE,SAAS,EAAE,SAAS,EAAE,MAAM,cAAc,CAAC;AACpD,OAAO,EAAE,SAAS,EAAE,MAAM,UAAU,CAAC;AAErC,IAAI,QAAQ,GAAY;IACtB,MAAM,EAAE,IAAI;IACZ,QAAQ,EAAC,IAAI;CACd,CAAA;AAED,MAAM,UAAU,WAAW,CAAC,IAAa;IACvC,IAAM,MAAM,GAAC,SAAS,EAAE,CAAA;IACxB,QAAQ,wBACH,QAAQ,IACX,QAAQ,EAAC,SAAS,CAAC,MAAM,CAAC,QAAQ,IAAE,gBAAgB,CAAC,IAClD,IAAI,CACR,CAAC;AACJ,CAAC;AAED,MAAM,UAAU,WAAW;IACzB,OAAO,QAAQ,CAAA;AACjB,CAAC;AAED,MAAM,UAAU,KAAK,CAAC,IAAa;IACjC,IAAM,MAAM,GAAC,SAAS,EAAE,CAAA;IACxB,IAAI,QAAQ,GAAG,YAAY,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IACjD,IAAG,QAAQ,EAAC;QACV,SAAS,CAAC,MAAM,CAAC,QAAQ,IAAE,gBAAgB,EAAC,QAAQ,CAAC,CAAA;KACtD;IACD,WAAW,CAAC,IAAI,CAAC,CAAC;AACpB,CAAC;AAED,MAAM,UAAU,MAAM,CAAC,MAAmB;IAAnB,uBAAA,EAAA,aAAmB;IACxC,IAAM,MAAM,GAAC,SAAS,EAAE,CAAA;IACxB,SAAS,CAAC,MAAM,CAAC,QAAQ,IAAE,gBAAgB,EAAC,IAAI,CAAC,CAAA;IACjD,IAAG,MAAM,IAAE,QAAQ,CAAC,MAAM,EAAC;QACzB,YAAY,CAAC,OAAO,CAAC,QAAQ,CAAC,MAAM,EAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;KACzD;IACD,QAAQ,GAAG,EAAE,CAAC;AAChB,CAAC;AAED,MAAM,UAAU,WAAW;AAE3B,CAAC;AAED,MAAM,UAAU,cAAc;AAE9B,CAAC\"}"}
