{"code":"import Tooltip from \"./tooltip\";\r\nimport { debounce } from \"lodash-es\";\r\nvar styleStr = \"\\n.tracker-analyse-tooltip {\\n    position: absolute;\\n    background: #FFC107;\\n    color: #fff;\\n    border-radius: 3px;\\n    box-shadow: 0 0 2px rgba(0,0,0,0.2);\\n    padding: 5px 10px;\\n    font-size: 12px;\\n    text-align: center;\\n}\\n\\n\\n\\n.tracker-analyse-tooltip .tracker-analyse-tooltip-arrow {\\n    width: 0;\\n    height: 0;\\n    border-style: solid;\\n    position: absolute;\\n    margin: 5px;\\n}\\n\\n.tracker-analyse-tooltip .tracker-analyse-tooltip-arrow {\\n    border-color: #FFC107;\\n}\\n\\n\\n.tracker-analyse-tooltip[x-placement^=\\\"top\\\"] {\\n    margin-bottom: 5px;\\n}\\n\\n.tracker-analyse-tooltip[x-placement^=\\\"top\\\"] .tracker-analyse-tooltip-arrow {\\n    border-width: 5px 5px 0 5px;\\n    border-left-color: transparent;\\n    border-right-color: transparent;\\n    border-bottom-color: transparent;\\n    bottom: -5px;\\n    left: calc(50% - 5px);\\n    margin-top: 0;\\n    margin-bottom: 0;\\n}\\n\\n.tracker-analyse-tooltip[x-placement^=\\\"bottom\\\"] {\\n    margin-top: 5px;\\n}\\n.tracker-analyse-tooltip[x-placement^=\\\"bottom\\\"] .tracker-analyse-tooltip-arrow{\\n    border-width: 0 5px 5px 5px;\\n    border-left-color: transparent;\\n    border-right-color: transparent;\\n    border-top-color: transparent;\\n    top: -5px;\\n    left: calc(50% - 5px);\\n    margin-top: 0;\\n    margin-bottom: 0;\\n}\\n.tracker-analyse-tooltip[x-placement^=\\\"right\\\"] {\\n    margin-left: 5px;\\n}\\n\\n.tracker-analyse-tooltip[x-placement^=\\\"right\\\"] .tracker-analyse-tooltip-arrow {\\n    border-width: 5px 5px 5px 0;\\n    border-left-color: transparent;\\n    border-top-color: transparent;\\n    border-bottom-color: transparent;\\n    left: -5px;\\n    top: calc(50% - 5px);\\n    margin-left: 0;\\n    margin-right: 0;\\n}\\n\\n.tracker-analyse-tooltip[x-placement^=\\\"left\\\"] {\\n    margin-right: 5px;\\n}\\n\\n.tracker-analyse-tooltip[x-placement^=\\\"left\\\"] .tracker-analyse-tooltip-arrow {\\n    border-width: 5px 0 5px 5px;\\n    border-top-color: transparent;\\n    border-right-color: transparent;\\n    border-bottom-color: transparent;\\n    right: -5px;\\n    top: calc(50% - 5px);\\n    margin-left: 0;\\n    margin-right: 0;\\n}\\n\\n\\n.tracker-analyse-page{\\n  white-space: pre-wrap;\\n  position:fixed;\\n  pointer-events: none;\\n  width:100%;\\n  max-width: 300px;\\n  background: rgba(23,23,4,.4);\\n  top: 0;\\n  right: 0;\\n  color: #fff;\\n  font-size: 12px;\\n  padding: 5px 10px;\\n  z-index: 99999;\\n  border-bottom-left-radius: 10px;\\n}\\n.tracker-analyse-page p{\\n  margin-bottom: 10px;\\n}\\n\\n.tracker-analyse-event{\\n  position: fixed;\\n}\\n\\n.tracker-analyse-event i{\\n  width:20px;\\n  height: 20px;\\n  border-radius: 50%;\\n  border:3px solid #f7780c;\\n  pointer-events: none;\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  transform: scale3d(.01, .01, .01);\\n}\\n\\n.tracker-analyse-event i:nth-child(1){\\n  animation: tracker-analyse-animation 1.5s linear infinite;\\n}\\n.tracker-analyse-event i:nth-child(2){\\n  animation: tracker-analyse-animation 1.5s .5s linear infinite;\\n}\\n.tracker-analyse-event i:nth-child(3){\\n  animation: tracker-analyse-animation 1.5s  1s linear infinite;\\n}\\n\\n@keyframes tracker-analyse-animation{\\n\\n0% {\\n  opacity: 1;\\n  transform: scale3d(.1, .1, .1);\\n}\\n100% {\\n  opacity: 0;\\n  transform: scale3d(1, 1 ,1);\\n}\\n\\n}\\n\\n.tracker-analyse-console-btn,.tracker-analyse-console-search{\\n\\n    display: inline-block;\\n    line-height: 1;\\n    white-space: nowrap;\\n    cursor: pointer;\\n    border: 1px solid #dcdfe6;\\n    -webkit-appearance: none;\\n    text-align: center;\\n    -webkit-box-sizing: border-box;\\n    box-sizing: border-box;\\n    outline: 0;\\n    margin: 0;\\n    -webkit-transition: .1s;\\n    transition: .1s;\\n    font-weight: 500;\\n    padding: 10px 20px;\\n    font-size: 14px;\\n    border-radius: 4px;\\n    color: #fff;\\n    background-color: #409EFF;\\n    border-color: #409EFF;\\n}\\n.tracker-analyse-console-btn{\\n  position: fixed;\\n  right: 5px;\\n  bottom: 5px;\\n}\\n.tracker-analyse-console-search{\\n  padding: 7px 15px;\\n  font-size: 12px;\\n}\\n\\n.tracker-analyse-console-content{\\n  display: none;\\n  width:500px;\\n  max-width: 100%;\\n  height: 300px;\\n  background: #fff;\\n  border-radius: 5px;\\n  position: fixed;\\n  top: 50%;\\n  left: 50%;\\n  z-index: 9999;\\n  transform: translate(-50%,-50%);\\n  padding:10px 20px;\\n  box-sizing: border-box;\\n}\\n.tracker-analyse-console-content h4{\\n  margin: 10px 0;\\n  font-weight: bold;\\n}\\n.tracker-analyse-console-form{\\n  height: 34px;\\n  line-height: 34px;\\n  margin-bottom: 10px;\\n}\\n.tracker-analyse-console-form span{\\n  display: inline-block;\\n  margin-right: 1em;\\n}\\n.tracker-analyse-console-mask{\\n  display: none;\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  background: rgba(0,0,0,.4);\\n  z-index: 9998;\\n}\\n.tracker-analyse-console-input{\\n  display: inline-block;\\n      width: 100%;\\n      max-width: 150px;\\n      height: 24px;\\n      line-height: 1.5;\\n      padding: 4px 7px;\\n      font-size: 12px;\\n      border: 1px solid #dcdee2;\\n      border-radius: 4px;\\n      color: #515a6e;\\n      background-color: #fff;\\n      background-image: none;\\n      position: relative;\\n      cursor: text;\\n  }\\n\\n  .tracker-analyse-event-hide .tracker-analyse-event,.tracker-analyse-event-hide .tracker-analyse-tooltip{\\n    display: none!important;\\n  }\\n\";\r\nvar Analyse = /** @class */ (function () {\r\n    function Analyse() {\r\n        this.style = styleStr;\r\n        this.data = {\r\n            page: [{\r\n                    url: \"http://0.0.0.0:10002/demo/vue.html\",\r\n                    pageId: \"pid3\",\r\n                    count: 1212,\r\n                }],\r\n            event: [\r\n                {\r\n                    url: \"http://0.0.0.0:10002/demo/vue.html\",\r\n                    name: \"CLICK\",\r\n                    pageId: \"pid3\",\r\n                    trackId: \"asd\",\r\n                    domPath: \"div\",\r\n                    domId: \"aaa\",\r\n                    count: 1233,\r\n                    id: 1,\r\n                },\r\n                {\r\n                    url: \"http://0.0.0.0:10002/demo/vue.html\",\r\n                    name: \"CLICK\",\r\n                    pageId: \"pid3\",\r\n                    trackId: \"asd\",\r\n                    domPath: \"div\",\r\n                    domId: \"bbb\",\r\n                    count: 1233,\r\n                    id: 2,\r\n                }\r\n            ]\r\n        };\r\n        this.elements = {};\r\n        this.wrapper = document.createElement('div');\r\n        this.page = document.createElement('div');\r\n        this.console = document.createElement('div');\r\n    }\r\n    Analyse.getInstance = function () {\r\n        if (!Analyse.instance) {\r\n            Analyse.instance = new Analyse();\r\n        }\r\n        return Analyse.instance;\r\n    };\r\n    Analyse.prototype.install = function () {\r\n        var _this = this;\r\n        var style = document.createElement('style');\r\n        style.innerHTML = this.style;\r\n        document.head.appendChild(style);\r\n        this.wrapper.className = \"tracker-analyse-wrapper\";\r\n        this.page.className = \"tracker-analyse-page\";\r\n        this.wrapper.innerHTML = \"\\n      <div>\\n        <button class=\\\"tracker-analyse-console-btn\\\">\\u63A7\\u5236\\u53F0</button>\\n        <div class=\\\"tracker-analyse-console-mask\\\"></div>\\n        <div class=\\\"tracker-analyse-console-content\\\">\\n          <h4>\\u67E5\\u8BE2\\u6761\\u4EF6:</h4>\\n          <div class=\\\"tracker-analyse-console-form\\\">\\n            <span>\\u65F6\\u95F4:</span><input type=\\\"text\\\" class=\\\"tracker-analyse-console-input\\\">~\\n            <input class=\\\"tracker-analyse-console-input\\\" type=\\\"text\\\">\\n          </div>\\n          <button class=\\\"tracker-analyse-console-search\\\">\\u67E5\\u8BE2</button>\\n          <h4>\\u5206\\u6790\\u8BBE\\u7F6E:</h4>\\n\\n          <div class=\\\"tracker-analyse-console-form\\\" >\\n            <span>\\u663E\\u793A\\u9875\\u9762\\u57CB\\u70B9\\u4FE1\\u606F:</span><input checked class=\\\"tracker-analyse-console-input-page\\\" type=\\\"checkbox\\\">\\n          </div>\\n          <div class=\\\"tracker-analyse-console-form\\\">\\n            <span>\\u663E\\u793A\\u4E8B\\u4EF6\\u57CB\\u70B9\\u4FE1\\u606F:</span><input checked class=\\\"tracker-analyse-console-input-event\\\" type=\\\"checkbox\\\">\\n          </div>\\n          <div class=\\\"tracker-analyse-console-form\\\">\\n            <span>\\u603B\\u662F\\u663E\\u793Atooltip:</span><input class=\\\"tracker-analyse-console-input-tooltip\\\" type=\\\"checkbox\\\">\\n          </div>\\n        </div>\\n      </div>\\n    \";\r\n        var content = this.wrapper.querySelector('.tracker-analyse-console-content');\r\n        var mask = this.wrapper.querySelector('.tracker-analyse-console-mask');\r\n        var btn = this.wrapper.querySelector('.tracker-analyse-console-btn');\r\n        var pageInput = this.wrapper.querySelector('.tracker-analyse-console-input-page');\r\n        var eventInput = this.wrapper.querySelector('.tracker-analyse-console-input-event');\r\n        var tooltipInput = this.wrapper.querySelector('.tracker-analyse-console-input-tooltip');\r\n        this.wrapper.appendChild(this.page);\r\n        mask.onclick = function () {\r\n            mask.style.display = content.style.display = 'none';\r\n        };\r\n        btn.onclick = function () {\r\n            mask.style.display = content.style.display = 'block';\r\n        };\r\n        pageInput.onchange = function (e) {\r\n            _this.page.style.display = e.target.checked ? 'block' : 'none';\r\n        };\r\n        tooltipInput.onchange = function (e) {\r\n            window._trackerAnalyseDisableDide = e.target.checked;\r\n            for (var i in _this.elements) {\r\n                if (e.target.checked) {\r\n                    _this.elements[i].tooltip.show();\r\n                }\r\n                else {\r\n                    _this.elements[i].tooltip.hide();\r\n                }\r\n            }\r\n        };\r\n        eventInput.onchange = function (e) {\r\n            document.body.className = e.target.checked ? document.body.className.replace(\"tracker-analyse-event-hide\", '') : document.body.className + \" tracker-analyse-event-hide\";\r\n        };\r\n        document.body.appendChild(this.wrapper);\r\n        this.analyseEvent();\r\n        this.analysePage();\r\n        this.bind(this.analyseEvent);\r\n        if (typeof window.onpopstate === 'undefined') {\r\n            window.addEventListener('hashchange', this.analysePage);\r\n        }\r\n        window.addEventListener('historyPushState', this.analysePage);\r\n        window.addEventListener('historyPopstate', this.analysePage);\r\n    };\r\n    Analyse.prototype.bind = function (fn) {\r\n        var _this = this;\r\n        fn = debounce(fn, 100);\r\n        var cb = function (records) {\r\n            for (var i in records) {\r\n                var result = _this.wrapper.compareDocumentPosition(records[i].target);\r\n                if (result === 20 || result === 0) {\r\n                    return;\r\n                }\r\n            }\r\n            fn.call(_this);\r\n        };\r\n        var observer = new MutationObserver(cb);\r\n        var body = document.body;\r\n        var options = {\r\n            'childList': true,\r\n            'attributes': true,\r\n            subtree: true\r\n        };\r\n        observer.observe(body, options);\r\n    };\r\n    Analyse.prototype.analysePage = function () {\r\n        var url = location.href;\r\n        var pageData = window._trackerPageId ? this.data.page.find(function (item) { return item.pageId === window._trackerPageId; }) : null;\r\n        if (!pageData) {\r\n            pageData = this.data.page.find(function (item) { return item.url === url; });\r\n        }\r\n        if (!pageData) {\r\n            this.page.innerHTML = \"当前页面未埋点\";\r\n            return;\r\n        }\r\n        this.page.innerHTML = \"\\n      pageId:\" + pageData.pageId + \"\\n      url:\" + pageData.url + \"\\n      \\u8BBF\\u95EE\\u6B21\\u6570:\" + pageData.count + \"\\n    \";\r\n    };\r\n    Analyse.prototype.analyseEvent = function () {\r\n        var _this = this;\r\n        var url = location.href;\r\n        this.data.event.filter(function (item) {\r\n            var active = !item.trackId || !window._trackerPageId || item.trackId === window._trackerPageId || item.url === url;\r\n            if (_this.elements[item.id]) {\r\n                _this.elements[item.id].cursor.style.display = 'none';\r\n            }\r\n            return active;\r\n        }).forEach(function (item) {\r\n            var element = null;\r\n            if (item.domId) {\r\n                element = document.getElementById(item.domId);\r\n            }\r\n            else {\r\n                element = document.querySelectorAll(item.path);\r\n                element = element.length === 1 ? element[0] : null;\r\n            }\r\n            if (!element || element.style.display === 'none') {\r\n                if (_this.elements[item.id]) {\r\n                    _this.elements[item.id].tooltip.hide();\r\n                    _this.elements[item.id].cursor.style.display === 'none';\r\n                }\r\n                return;\r\n            }\r\n            if (_this.elements[item.id] && _this.elements[item.id].el === element) {\r\n                _this.elements[item.id].cursor.style.display = 'block';\r\n                _this.elements[item.id].tooltip.updateTitleContent(item.count);\r\n                return;\r\n            }\r\n            var cursor = null;\r\n            if (_this.elements[item.id]) {\r\n                _this.elements[item.id].tooltip.dispose();\r\n                cursor = _this.elements[item.id].cursor;\r\n                cursor.style.display = 'block';\r\n            }\r\n            else {\r\n                cursor = document.createElement('div');\r\n                cursor.className = \"tracker-analyse-event\";\r\n                cursor.style = \"top:\" + (element.offsetTop + element.offsetHeight / 2 - 10) + \"px;left:\" + (element.offsetLeft + element.offsetWidth / 2 - 10) + \"px;\";\r\n                cursor.innerHTML = \"\\n        <i></i>\\n        <i></i>\\n        <i></i>\\n        \";\r\n                _this.wrapper.appendChild(cursor);\r\n            }\r\n            var tooltip = new Tooltip(element, {\r\n                placement: 'top',\r\n                title: item.count,\r\n                trigger: \"hover\",\r\n                container: _this.wrapper || document.body,\r\n                popperOptions: {\r\n                    onUpdate: function (e) {\r\n                        cursor.style = \"top:\" + (e.offsets.reference.top + e.offsets.reference.height / 2 - 10) + \"px;left:\" + (e.offsets.reference.left + e.offsets.reference.width / 2 - 10) + \"px;\";\r\n                    }\r\n                },\r\n                html: true,\r\n                template: '<div class=\"tracker-analyse-tooltip\" role=\"tooltip\"><div class=\"tracker-analyse-tooltip-arrow\"></div>点击次数<div class=\"tracker-analyse-tooltip-inner\"></div></div>',\r\n                arrowSelector: '.tracker-analyse-tooltip-arrow',\r\n                innerSelector: '.tracker-analyse-tooltip-inner'\r\n            });\r\n            if (window._trackerAnalyseDisableDide) {\r\n                tooltip.show();\r\n            }\r\n            _this.elements[item.id] = {\r\n                el: element,\r\n                tooltip: tooltip,\r\n                show: true,\r\n                cursor: cursor\r\n            };\r\n        });\r\n    };\r\n    Analyse.instance = null;\r\n    return Analyse;\r\n}());\r\nvar instance = Analyse.getInstance();\r\ninstance.install();\r\nexport default instance;\r\n//# sourceMappingURL=index.js.map","map":"{\"version\":3,\"file\":\"index.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../src/analyse/index.ts\"],\"names\":[],\"mappings\":\"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\"}"}
