{"version":3,"file":"oneClass.js","sources":["../../dist/telescope.min.js","../src/oneClass.js"],"sourcesContent":["(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n    typeof define === 'function' && define.amd ? define(['exports'], factory) :\n    (global = global || self, factory(global.Telescope = {}));\n}(this, function (exports) { 'use strict';\n\n    /*! *****************************************************************************\r\n    Copyright (c) Microsoft Corporation. All rights reserved.\r\n    Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\n    this file except in compliance with the License. You may obtain a copy of the\r\n    License at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\n    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\n    MERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\n    See the Apache Version 2.0 License for specific language governing permissions\r\n    and limitations under the License.\r\n    ***************************************************************************** */\r\n\r\n    var __assign = function() {\r\n        __assign = Object.assign || function __assign(t) {\r\n            for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n                s = arguments[i];\r\n                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n            }\r\n            return t;\r\n        };\r\n        return __assign.apply(this, arguments);\r\n    };\n\n    //日志收集接口\r\n    var SERVER_URL = (window.location.protocol === 'https:' ? 'https:' : 'http:') + \"//frontlo-collection.91jkys.com/log.gif\"; //'http://test.qa.91jkys.com:9342/log.gif';\r\n    var CUSTOM_TOKEN_KEY = 'TRACKER_IDENTIFY';\r\n    var SEND_TYPE = {\r\n        SYNC: 'SYNC',\r\n        ASYNC: 'ASYNC',\r\n        UNLOAD: 'UNLOAD'\r\n    };\r\n    var ACTION_TYPE = {\r\n        EVENT: 'EVENT',\r\n        PAGE: 'PAGE',\r\n        VIEW: 'VIEW',\r\n        DURATION: 'DURATION'\r\n    };\r\n    var SAFETY_KEY = [\r\n        'custom',\r\n        'actionType',\r\n        'eventName',\r\n        'pageId',\r\n        'domId',\r\n        'domClass',\r\n        'domHref',\r\n        'domName',\r\n        'domTag',\r\n        'domContent',\r\n        'domPath',\r\n        'trackId',\r\n        'referrerId',\r\n        'score',\r\n        'startTime',\r\n        'endTime',\r\n        'durationTime',\r\n        'channel',\r\n        'netType'\r\n    ];\r\n    //# sourceMappingURL=index.js.map\n\n    //default config\r\n    var config = {\r\n        store: 'test',\r\n        trackKey: '',\r\n        serverUrl: SERVER_URL,\r\n        pageTime: true,\r\n        watchHistoryAndHash: true,\r\n        env: 'PRODUCT',\r\n        console: true,\r\n        projectId: null,\r\n        version: null,\r\n        domain: '',\r\n        sendType: SEND_TYPE.ASYNC,\r\n        delayTime: 1000,\r\n        autoTrackPage: false,\r\n        autoTrackClick: false,\r\n        autoInstall: true,\r\n        delayLink: true,\r\n        delayLinkTime: 200,\r\n        useServerTime: true,\r\n        corssSubdomain: false,\r\n        utokenKey: CUSTOM_TOKEN_KEY,\r\n        beforeGenerateLog: null\r\n    };\r\n    //script tracker-key  config\r\n    var scriptDom = document.querySelector('script[track-key]');\r\n    if (scriptDom) {\r\n        var trackKey = scriptDom.getAttribute('track-key') || '';\r\n        if (trackKey) {\r\n            config.trackKey = trackKey;\r\n        }\r\n    }\r\n    function getConfig() {\r\n        return config;\r\n    }\r\n    function setConfig(data) {\r\n        config = __assign(__assign({}, config), data);\r\n    }\r\n    //# sourceMappingURL=config.js.map\n\n    function _isPlaceholder(a) {\n      return a != null && typeof a === 'object' && a['@@functional/placeholder'] === true;\n    }\n\n    var _isPlaceholder_1 = _isPlaceholder;\n\n    /**\n     * Optimized internal one-arity curry function.\n     *\n     * @private\n     * @category Function\n     * @param {Function} fn The function to curry.\n     * @return {Function} The curried function.\n     */\n\n\n    function _curry1(fn) {\n      return function f1(a) {\n        if (arguments.length === 0 || _isPlaceholder_1(a)) {\n          return f1;\n        } else {\n          return fn.apply(this, arguments);\n        }\n      };\n    }\n\n    var _curry1_1 = _curry1;\n\n    /**\n     * Optimized internal two-arity curry function.\n     *\n     * @private\n     * @category Function\n     * @param {Function} fn The function to curry.\n     * @return {Function} The curried function.\n     */\n\n\n    function _curry2(fn) {\n      return function f2(a, b) {\n        switch (arguments.length) {\n          case 0:\n            return f2;\n\n          case 1:\n            return _isPlaceholder_1(a) ? f2 : _curry1_1(function (_b) {\n              return fn(a, _b);\n            });\n\n          default:\n            return _isPlaceholder_1(a) && _isPlaceholder_1(b) ? f2 : _isPlaceholder_1(a) ? _curry1_1(function (_a) {\n              return fn(_a, b);\n            }) : _isPlaceholder_1(b) ? _curry1_1(function (_b) {\n              return fn(a, _b);\n            }) : fn(a, b);\n        }\n      };\n    }\n\n    var _curry2_1 = _curry2;\n\n    function _arrayFromIterator(iter) {\n      var list = [];\n      var next;\n\n      while (!(next = iter.next()).done) {\n        list.push(next.value);\n      }\n\n      return list;\n    }\n\n    var _arrayFromIterator_1 = _arrayFromIterator;\n\n    function _includesWith(pred, x, list) {\n      var idx = 0;\n      var len = list.length;\n\n      while (idx < len) {\n        if (pred(x, list[idx])) {\n          return true;\n        }\n\n        idx += 1;\n      }\n\n      return false;\n    }\n\n    var _includesWith_1 = _includesWith;\n\n    function _functionName(f) {\n      // String(x => x) evaluates to \"x => x\", so the pattern may not match.\n      var match = String(f).match(/^function (\\w*)/);\n      return match == null ? '' : match[1];\n    }\n\n    var _functionName_1 = _functionName;\n\n    function _has(prop, obj) {\n      return Object.prototype.hasOwnProperty.call(obj, prop);\n    }\n\n    var _has_1 = _has;\n\n    // Based on https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n    function _objectIs(a, b) {\n      // SameValue algorithm\n      if (a === b) {\n        // Steps 1-5, 7-10\n        // Steps 6.b-6.e: +0 != -0\n        return a !== 0 || 1 / a === 1 / b;\n      } else {\n        // Step 6.a: NaN == NaN\n        return a !== a && b !== b;\n      }\n    }\n\n    var _objectIs_1 = typeof Object.is === 'function' ? Object.is : _objectIs;\n\n    var toString = Object.prototype.toString;\n\n    var _isArguments =\n    /*#__PURE__*/\n    function () {\n      return toString.call(arguments) === '[object Arguments]' ? function _isArguments(x) {\n        return toString.call(x) === '[object Arguments]';\n      } : function _isArguments(x) {\n        return _has_1('callee', x);\n      };\n    }();\n\n    var _isArguments_1 = _isArguments;\n\n    // cover IE < 9 keys issues\n\n\n    var hasEnumBug = !\n    /*#__PURE__*/\n    {\n      toString: null\n    }.propertyIsEnumerable('toString');\n    var nonEnumerableProps = ['constructor', 'valueOf', 'isPrototypeOf', 'toString', 'propertyIsEnumerable', 'hasOwnProperty', 'toLocaleString']; // Safari bug\n\n    var hasArgsEnumBug =\n    /*#__PURE__*/\n    function () {\n\n      return arguments.propertyIsEnumerable('length');\n    }();\n\n    var contains = function contains(list, item) {\n      var idx = 0;\n\n      while (idx < list.length) {\n        if (list[idx] === item) {\n          return true;\n        }\n\n        idx += 1;\n      }\n\n      return false;\n    };\n    /**\n     * Returns a list containing the names of all the enumerable own properties of\n     * the supplied object.\n     * Note that the order of the output array is not guaranteed to be consistent\n     * across different JS platforms.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category Object\n     * @sig {k: v} -> [k]\n     * @param {Object} obj The object to extract properties from\n     * @return {Array} An array of the object's own properties.\n     * @see R.keysIn, R.values\n     * @example\n     *\n     *      R.keys({a: 1, b: 2, c: 3}); //=> ['a', 'b', 'c']\n     */\n\n\n    var keys = typeof Object.keys === 'function' && !hasArgsEnumBug ?\n    /*#__PURE__*/\n    _curry1_1(function keys(obj) {\n      return Object(obj) !== obj ? [] : Object.keys(obj);\n    }) :\n    /*#__PURE__*/\n    _curry1_1(function keys(obj) {\n      if (Object(obj) !== obj) {\n        return [];\n      }\n\n      var prop, nIdx;\n      var ks = [];\n\n      var checkArgsLength = hasArgsEnumBug && _isArguments_1(obj);\n\n      for (prop in obj) {\n        if (_has_1(prop, obj) && (!checkArgsLength || prop !== 'length')) {\n          ks[ks.length] = prop;\n        }\n      }\n\n      if (hasEnumBug) {\n        nIdx = nonEnumerableProps.length - 1;\n\n        while (nIdx >= 0) {\n          prop = nonEnumerableProps[nIdx];\n\n          if (_has_1(prop, obj) && !contains(ks, prop)) {\n            ks[ks.length] = prop;\n          }\n\n          nIdx -= 1;\n        }\n      }\n\n      return ks;\n    });\n    var keys_1 = keys;\n\n    /**\n     * Gives a single-word string description of the (native) type of a value,\n     * returning such answers as 'Object', 'Number', 'Array', or 'Null'. Does not\n     * attempt to distinguish user Object types any further, reporting them all as\n     * 'Object'.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.8.0\n     * @category Type\n     * @sig (* -> {*}) -> String\n     * @param {*} val The value to test\n     * @return {String}\n     * @example\n     *\n     *      R.type({}); //=> \"Object\"\n     *      R.type(1); //=> \"Number\"\n     *      R.type(false); //=> \"Boolean\"\n     *      R.type('s'); //=> \"String\"\n     *      R.type(null); //=> \"Null\"\n     *      R.type([]); //=> \"Array\"\n     *      R.type(/[A-z]/); //=> \"RegExp\"\n     *      R.type(() => {}); //=> \"Function\"\n     *      R.type(undefined); //=> \"Undefined\"\n     */\n\n\n    var type =\n    /*#__PURE__*/\n    _curry1_1(function type(val) {\n      return val === null ? 'Null' : val === undefined ? 'Undefined' : Object.prototype.toString.call(val).slice(8, -1);\n    });\n\n    var type_1 = type;\n\n    /**\n     * private _uniqContentEquals function.\n     * That function is checking equality of 2 iterator contents with 2 assumptions\n     * - iterators lengths are the same\n     * - iterators values are unique\n     *\n     * false-positive result will be returned for comparision of, e.g.\n     * - [1,2,3] and [1,2,3,4]\n     * - [1,1,1] and [1,2,3]\n     * */\n\n\n    function _uniqContentEquals(aIterator, bIterator, stackA, stackB) {\n      var a = _arrayFromIterator_1(aIterator);\n\n      var b = _arrayFromIterator_1(bIterator);\n\n      function eq(_a, _b) {\n        return _equals(_a, _b, stackA.slice(), stackB.slice());\n      } // if *a* array contains any element that is not included in *b*\n\n\n      return !_includesWith_1(function (b, aItem) {\n        return !_includesWith_1(eq, aItem, b);\n      }, b, a);\n    }\n\n    function _equals(a, b, stackA, stackB) {\n      if (_objectIs_1(a, b)) {\n        return true;\n      }\n\n      var typeA = type_1(a);\n\n      if (typeA !== type_1(b)) {\n        return false;\n      }\n\n      if (a == null || b == null) {\n        return false;\n      }\n\n      if (typeof a['fantasy-land/equals'] === 'function' || typeof b['fantasy-land/equals'] === 'function') {\n        return typeof a['fantasy-land/equals'] === 'function' && a['fantasy-land/equals'](b) && typeof b['fantasy-land/equals'] === 'function' && b['fantasy-land/equals'](a);\n      }\n\n      if (typeof a.equals === 'function' || typeof b.equals === 'function') {\n        return typeof a.equals === 'function' && a.equals(b) && typeof b.equals === 'function' && b.equals(a);\n      }\n\n      switch (typeA) {\n        case 'Arguments':\n        case 'Array':\n        case 'Object':\n          if (typeof a.constructor === 'function' && _functionName_1(a.constructor) === 'Promise') {\n            return a === b;\n          }\n\n          break;\n\n        case 'Boolean':\n        case 'Number':\n        case 'String':\n          if (!(typeof a === typeof b && _objectIs_1(a.valueOf(), b.valueOf()))) {\n            return false;\n          }\n\n          break;\n\n        case 'Date':\n          if (!_objectIs_1(a.valueOf(), b.valueOf())) {\n            return false;\n          }\n\n          break;\n\n        case 'Error':\n          return a.name === b.name && a.message === b.message;\n\n        case 'RegExp':\n          if (!(a.source === b.source && a.global === b.global && a.ignoreCase === b.ignoreCase && a.multiline === b.multiline && a.sticky === b.sticky && a.unicode === b.unicode)) {\n            return false;\n          }\n\n          break;\n      }\n\n      var idx = stackA.length - 1;\n\n      while (idx >= 0) {\n        if (stackA[idx] === a) {\n          return stackB[idx] === b;\n        }\n\n        idx -= 1;\n      }\n\n      switch (typeA) {\n        case 'Map':\n          if (a.size !== b.size) {\n            return false;\n          }\n\n          return _uniqContentEquals(a.entries(), b.entries(), stackA.concat([a]), stackB.concat([b]));\n\n        case 'Set':\n          if (a.size !== b.size) {\n            return false;\n          }\n\n          return _uniqContentEquals(a.values(), b.values(), stackA.concat([a]), stackB.concat([b]));\n\n        case 'Arguments':\n        case 'Array':\n        case 'Object':\n        case 'Boolean':\n        case 'Number':\n        case 'String':\n        case 'Date':\n        case 'Error':\n        case 'RegExp':\n        case 'Int8Array':\n        case 'Uint8Array':\n        case 'Uint8ClampedArray':\n        case 'Int16Array':\n        case 'Uint16Array':\n        case 'Int32Array':\n        case 'Uint32Array':\n        case 'Float32Array':\n        case 'Float64Array':\n        case 'ArrayBuffer':\n          break;\n\n        default:\n          // Values of other types are only equal if identical.\n          return false;\n      }\n\n      var keysA = keys_1(a);\n\n      if (keysA.length !== keys_1(b).length) {\n        return false;\n      }\n\n      var extendedStackA = stackA.concat([a]);\n      var extendedStackB = stackB.concat([b]);\n      idx = keysA.length - 1;\n\n      while (idx >= 0) {\n        var key = keysA[idx];\n\n        if (!(_has_1(key, b) && _equals(b[key], a[key], extendedStackA, extendedStackB))) {\n          return false;\n        }\n\n        idx -= 1;\n      }\n\n      return true;\n    }\n\n    var _equals_1 = _equals;\n\n    /**\n     * Returns `true` if its arguments are equivalent, `false` otherwise. Handles\n     * cyclical data structures.\n     *\n     * Dispatches symmetrically to the `equals` methods of both arguments, if\n     * present.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.15.0\n     * @category Relation\n     * @sig a -> b -> Boolean\n     * @param {*} a\n     * @param {*} b\n     * @return {Boolean}\n     * @example\n     *\n     *      R.equals(1, 1); //=> true\n     *      R.equals(1, '1'); //=> false\n     *      R.equals([1, 2, 3], [1, 2, 3]); //=> true\n     *\n     *      const a = {}; a.v = a;\n     *      const b = {}; b.v = b;\n     *      R.equals(a, b); //=> true\n     */\n\n\n    var equals =\n    /*#__PURE__*/\n    _curry2_1(function equals(a, b) {\n      return _equals_1(a, b, [], []);\n    });\n\n    var equals_1 = equals;\n\n    /**\r\n     *判断promise\r\n     *\r\n     * @export\r\n     * @param {*} f\r\n     * @returns\r\n     */\r\n    function isThenable(f) {\r\n        return f && typeof f.then === 'function';\r\n    }\r\n    /**\r\n     *获取url参数 兼容微信支付 window.location.search改成window.location.href\r\n     *\r\n     * @export\r\n     * @param {string} variable\r\n     * @returns\r\n     */\r\n    function getQueryVariable(variable) {\r\n        var query = window.location.href.match(/\\?(.*)$/);\r\n        if (!query)\r\n            return null;\r\n        var vars = query[1].split('&');\r\n        for (var i = 0; i < vars.length; i++) {\r\n            var pair = vars[i].split('=');\r\n            if (pair[0] == variable) {\r\n                return pair[1];\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n    /**\r\n     *获取cookie\r\n     *\r\n     * @export\r\n     * @param {string} name\r\n     * @returns\r\n     */\r\n    function getCookie(name) {\r\n        var cookies = document.cookie.split('; ');\r\n        for (var i in cookies) {\r\n            var arr = cookies[i].split('=');\r\n            if (name == arr[0]) {\r\n                return unescape(arr[1]).replace(/&&&&/g, ';');\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n    /**\r\n     *设置cookie\r\n     *\r\n     * @export\r\n     * @param {string} name\r\n     * @param {string} value\r\n     * @param {number} [expires=99999999999999]\r\n     * @param {string} [path='/']\r\n     * @param {string} [domain]\r\n     */\r\n    function setCookie(name, value, expires, path, domain) {\r\n        if (expires === void 0) { expires = 99999999999999; }\r\n        if (path === void 0) { path = '/'; }\r\n        document.cookie =\r\n            name +\r\n                '=' +\r\n                value.replace(/;/g, '&&&&') +\r\n                (expires ? '; expires=' + getExpires(expires) : '') +\r\n                (path ? '; path=' + path : '') +\r\n                (domain ? '; domain=' + domain : '');\r\n        function getExpires(hours) {\r\n            var date = new Date();\r\n            date.setTime(date.getTime() + hours * 60 * 60 * 1000);\r\n            return date.toUTCString();\r\n        }\r\n    }\r\n    /**\r\n     *\r\n     *\r\n     * @export\r\n     * @param {*} binding\r\n     * @returns\r\n     */\r\n    function notChanged(binding) {\r\n        if (binding.oldValue !== undefined) {\r\n            if (typeof binding.value === 'object') {\r\n                return equals_1(binding.value, binding.oldValue);\r\n            }\r\n            else {\r\n                return binding.value === binding.oldValue;\r\n            }\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    }\r\n    /**\r\n     * if the binding value is empty\r\n     */\r\n    function isEmpty(binding) {\r\n        return binding.value === '' || binding.value === undefined || binding.value === null;\r\n    }\r\n    function setFlag(key, value) {\r\n        if (value === void 0) { value = true; }\r\n        _TrackerGlobalData._trackerFlag = _TrackerGlobalData._trackerFlag || {};\r\n        _TrackerGlobalData._trackerFlag[key] = value;\r\n    }\r\n    function getFlag(key) {\r\n        _TrackerGlobalData._trackerFlag = _TrackerGlobalData._trackerFlag || {};\r\n        return _TrackerGlobalData._trackerFlag[key] || false;\r\n    }\r\n    function getUUID() {\r\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n            var r = (Math.random() * 16) | 0, v = c == 'x' ? r : (r & 0x3) | 0x8;\r\n            return v.toString(16);\r\n        });\r\n    }\r\n    /**\r\n     *获取dom path\r\n     *\r\n     * @export\r\n     * @param {HTMLElement} dom\r\n     * @returns\r\n     */\r\n    function getDomPath(dom) {\r\n        var path = [dom.id ? '#' + dom.id : dom.tagName.toLowerCase()];\r\n        while (dom.parentNode && dom.parentNode.tagName !== 'BODY') {\r\n            dom = dom.parentNode;\r\n            path.unshift(dom.id ? '#' + dom.id : dom.tagName.toLowerCase());\r\n        }\r\n        return path.join('>');\r\n    }\r\n    function getLocationHref() {\r\n        if (typeof document === 'undefined' || document.location == null)\r\n            return '';\r\n        return document.location.href;\r\n    }\r\n    function isObject(o) {\r\n        return Object.prototype.toString.call(o) === '[object Object]';\r\n    }\r\n    //# sourceMappingURL=util.js.map\n\n    var userInfo = {\r\n        uid: null,\r\n        isLogin: false\r\n    };\r\n    function setUserInfo(info) {\r\n        userInfo = __assign(__assign({}, userInfo), info);\r\n    }\r\n    function getUserInfo() {\r\n        return userInfo;\r\n    }\r\n    function login(info) {\r\n        var config = getConfig();\r\n        if (info.uid) {\r\n            var utoken = localStorage.getItem(config.utokenKey + '__' + info.uid);\r\n            if (utoken) {\r\n                setCookie(config.utokenKey, utoken);\r\n            }\r\n        }\r\n        setUserInfo(__assign(__assign({}, info), { isLogin: true }));\r\n    }\r\n    function logout(moment) {\r\n        if (moment === void 0) { moment = false; }\r\n        var config = getConfig();\r\n        var utoken = getCookie(config.utokenKey);\r\n        if (moment) {\r\n            localStorage.setItem(config.utokenKey + '__' + (userInfo.uid || ''), utoken);\r\n            setCookie(config.utokenKey, null);\r\n        }\r\n        userInfo = { uid: null, isLogin: false };\r\n    }\r\n    //# sourceMappingURL=user.js.map\n\n    // import { login } from './core/user';\r\n    var ua = window.navigator.userAgent;\r\n    if (/(pre|qa|127|192)\\.|localhost/.test(window.location.host) || /env\\((pre|qa)\\)/.test(ua)) {\r\n        setConfig({\r\n            serverUrl: (window.location.protocol === 'http:' ? 'http:' : 'https:') + \"//frontlo-collection.qa.91jkys.com/log.gif\"\r\n        });\r\n    }\r\n    if (/DeviceId/.test(ua)) {\r\n        var deviceIdMatch = ua.match(/DeviceId\\((.*?)\\)/);\r\n        if (deviceIdMatch && deviceIdMatch.length >= 2) {\r\n            setUserInfo({\r\n                utoken: deviceIdMatch[1]\r\n            });\r\n        }\r\n    }\r\n    // if (typeof Sailer !== 'undefined' && typeof adapt !== 'undefined') {\r\n    //   if (adapt.isLogin()) {\r\n    //     adapt.getUserInfo().then(({ uid }: any) => {\r\n    //       login(uid);\r\n    //     });\r\n    //   }\r\n    // }\r\n    //# sourceMappingURL=91jkys.js.map\n\n    var pageInfo = {\r\n        pageId: null,\r\n        referrerId: getQueryVariable('referrer-id'),\r\n        referrerUrl: document.referrer || '',\r\n        url: location.origin,\r\n        host: location.host,\r\n        path: location.pathname,\r\n        hash: location.hash,\r\n        title: document.title || ''\r\n    };\r\n    var setPageInfo = function (info) {\r\n        pageInfo = __assign(__assign(__assign({}, pageInfo), info), { url: location.origin, host: location.host, path: location.pathname, hash: location.hash, title: document.title || '' });\r\n        window.aaa = pageInfo;\r\n    };\r\n    var getPageInfo = function () {\r\n        return __assign({}, pageInfo);\r\n    };\r\n    //# sourceMappingURL=pageInfo.js.map\n\n    function http(data, isAjax, isSendBeacon) {\r\n        if (isAjax === void 0) { isAjax = false; }\r\n        if (isSendBeacon === void 0) { isSendBeacon = true; }\r\n        return new Promise(function (resolve) {\r\n            //const dataStr=Base64.encode(JSON.stringify(data));\r\n            var dataStr = data;\r\n            var config = getConfig();\r\n            var url = config.serverUrl + \"?\" + (config.trackKey ? \"trackKey=\" + config.trackKey + \"&\" : '') + \"time=\" + Date.now();\r\n            if (window.location.protocol === 'https:' &&\r\n                isSendBeacon &&\r\n                typeof window.navigator.sendBeacon === 'function' &&\r\n                typeof Blob === 'function') {\r\n                var headers = {\r\n                    type: 'text/plain; charset=UTF-8'\r\n                };\r\n                var blob = new Blob([dataStr], headers);\r\n                var success = window.navigator.sendBeacon(url, blob);\r\n                if (success) {\r\n                    resolve();\r\n                    return;\r\n                }\r\n            }\r\n            if (isAjax) {\r\n                var xhr = new XMLHttpRequest();\r\n                xhr.withCredentials = true;\r\n                xhr.addEventListener('readystatechange', function () {\r\n                    if (this.readyState === 4) {\r\n                        resolve();\r\n                    }\r\n                });\r\n                xhr.open('POST', url, true);\r\n                xhr.setRequestHeader('Content-Type', 'text/plain;charset=UTF-8');\r\n                xhr.withCredentials = true;\r\n                xhr.send(dataStr);\r\n            }\r\n            else {\r\n                var img = new Image();\r\n                img.onload = function () {\r\n                    resolve();\r\n                };\r\n                img.src = url + \"&data=\" + encodeURIComponent(dataStr);\r\n            }\r\n        });\r\n    }\r\n    //# sourceMappingURL=http.js.map\n\n    var libInfo = {\r\n        libVersion: '1.0.0',\r\n        libType: 'js'\r\n    };\r\n    //# sourceMappingURL=libInfo.js.map\n\n    function getNetInfo () {\r\n        var connection = window.navigator.connection ||\r\n            window.navigator.mozConnection ||\r\n            window.navigator.webkitConnection ||\r\n            {};\r\n        if (connection) {\r\n            return {};\r\n        }\r\n        var type = connection.type || connection.effectiveType;\r\n        if (!type) {\r\n            return {};\r\n        }\r\n        return {\r\n            netType: type\r\n        };\r\n    }\r\n    //# sourceMappingURL=netInfo.js.map\n\n    function clientInfo () {\r\n        return {\r\n            clientWidth: window.screen.height,\r\n            clientHeight: window.screen.width,\r\n            radio: window.devicePixelRatio || 1,\r\n            domain: document.domain || ''\r\n        };\r\n    }\r\n    //# sourceMappingURL=clientInfo.js.map\n\n    /**\n     * Returns a partial copy of an object containing only the keys specified. If\n     * the key does not exist, the property is ignored.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category Object\n     * @sig [k] -> {k: v} -> {k: v}\n     * @param {Array} names an array of String property names to copy onto a new object\n     * @param {Object} obj The object to copy from\n     * @return {Object} A new object with only properties from `names` on it.\n     * @see R.omit, R.props\n     * @example\n     *\n     *      R.pick(['a', 'd'], {a: 1, b: 2, c: 3, d: 4}); //=> {a: 1, d: 4}\n     *      R.pick(['a', 'e', 'f'], {a: 1, b: 2, c: 3, d: 4}); //=> {a: 1}\n     */\n\n\n    var pick =\n    /*#__PURE__*/\n    _curry2_1(function pick(names, obj) {\n      var result = {};\n      var idx = 0;\n\n      while (idx < names.length) {\n        if (names[idx] in obj) {\n          result[names[idx]] = obj[names[idx]];\n        }\n\n        idx += 1;\n      }\n\n      return result;\n    });\n\n    var pick_1 = pick;\n\n    var allData = [];\r\n    var timer = null;\r\n    var uuid = getUUID();\r\n    var index = 0;\r\n    /**\r\n     * 同步发送\r\n     * @param data\r\n     */\r\n    function send(data) {\r\n        var config = getConfig();\r\n        var sendType = config.sendType;\r\n        if (sendType === SEND_TYPE.SYNC) {\r\n            sendSync(data);\r\n        }\r\n        else if (sendType === SEND_TYPE.ASYNC) {\r\n            sendAsync(data);\r\n        }\r\n    }\r\n    function sendSync(data) {\r\n        var config = getConfig();\r\n        var newData = _generateData(data, config);\r\n        if (!newData) {\r\n            return;\r\n        }\r\n        allData.push(newData);\r\n        clearTimeout(timer);\r\n        _sendToServer(allData);\r\n        allData.length = 0;\r\n    }\r\n    /**\r\n     * 延迟发送  data不存在则马上发送\r\n     * @param data\r\n     */\r\n    function sendAsync(data) {\r\n        var config = getConfig();\r\n        if (data) {\r\n            var newData = _generateData(data, config);\r\n            if (!newData) {\r\n                return;\r\n            }\r\n            allData.push(newData);\r\n        }\r\n        clearTimeout(timer);\r\n        // 无参数或者大于10条发送发送\r\n        if ((!data && allData.length > 0) || allData.length >= 10) {\r\n            _sendToServer(allData);\r\n            allData.length = 0;\r\n            return;\r\n        }\r\n        timer = setTimeout(function () {\r\n            _sendToServer(allData);\r\n            allData.length = 0;\r\n        }, config.delayTime);\r\n    }\r\n    /**\r\n     * 发送到服务器\r\n     * @param data\r\n     * @param isAjax\r\n     */\r\n    function _sendToServer(data, isAjax) {\r\n        // console.log(JSON.stringify(data, null, 2));\r\n        return http(JSON.stringify(_wrapperData(data)), isAjax);\r\n    }\r\n    /**\r\n     * 合并其他信息\r\n     * @param data\r\n     */\r\n    function _wrapperData(data) {\r\n        //console.log(JSON.stringify(data, null, 2));\r\n        var config = getConfig();\r\n        index++;\r\n        return __assign(__assign(__assign(__assign({ items: data }, clientInfo()), libInfo), getUserInfo()), { version: config.version });\r\n    }\r\n    /**\r\n     * 补充埋点信息\r\n     * @param data\r\n     * @param config\r\n     */\r\n    function _generateData(data, config) {\r\n        index++;\r\n        if (typeof config.beforeGenerateLog === 'function') {\r\n            data = config.beforeGenerateLog(data);\r\n            if (!data) {\r\n                return;\r\n            }\r\n        }\r\n        //序列化自定义\r\n        if (isObject(data.custom)) {\r\n            var customStr = JSON.stringify(data.custom);\r\n            if (customStr.length <= 500) {\r\n                data.custom = JSON.stringify(data.custom);\r\n            }\r\n        }\r\n        var newData = pick_1(SAFETY_KEY, data);\r\n        var pageInfo = getPageInfo();\r\n        var netInfo = getNetInfo();\r\n        if (data.actionType === 'PAGE') {\r\n            pageInfo.pageId = null;\r\n        }\r\n        var result = __assign(__assign(__assign(__assign({}, newData), pageInfo), netInfo), { trackTime: Date.now(), id: uuid + '-' + index });\r\n        // console.log(JSON.stringify(result, null, 2));\r\n        return result;\r\n    }\r\n    //# sourceMappingURL=send.js.map\n\n    var PageTimeTracker = /** @class */ (function () {\r\n        function PageTimeTracker() {\r\n            this.startTime = Date.now();\r\n            this.endTime = Date.now();\r\n            // invalidStartTime = Date.now();\r\n            // invalidEndTime = Date.now();\r\n            // totalInvalidTime = 0;\r\n            this.config = null;\r\n            this.info = null;\r\n            this.isStart = false;\r\n            this.backInfo = null;\r\n        }\r\n        PageTimeTracker.getInstance = function () {\r\n            if (!PageTimeTracker.instance) {\r\n                PageTimeTracker.instance = new PageTimeTracker();\r\n            }\r\n            return PageTimeTracker.instance;\r\n        };\r\n        PageTimeTracker.prototype.start = function (data) {\r\n            var _this = this;\r\n            if (data) {\r\n                this.info = data;\r\n            }\r\n            if (this.isStart) {\r\n                this.startTime = Date.now();\r\n                return;\r\n            }\r\n            this.isStart = true;\r\n            this.config = getConfig();\r\n            window.addEventListener('visibilitychange', function () {\r\n                var isHidden = document.hidden;\r\n                if (isHidden) {\r\n                    _this.backInfo = _this.info;\r\n                    _this.end();\r\n                }\r\n                else {\r\n                    _this.info = _this.backInfo;\r\n                    // todo 处理pageInfo\r\n                    _this.start();\r\n                }\r\n            });\r\n        };\r\n        PageTimeTracker.prototype.end = function () {\r\n            if (!this.info) {\r\n                return;\r\n            }\r\n            this.endTime = Date.now();\r\n            this.toSend();\r\n        };\r\n        /**\r\n         * url change 触发\r\n         */\r\n        PageTimeTracker.prototype.change = function () {\r\n            this.end();\r\n            this.start();\r\n        };\r\n        PageTimeTracker.prototype.toSend = function () {\r\n            if (this.config.autoTrackPage || this.info) {\r\n                var durationTime = this.endTime - this.startTime;\r\n                if (durationTime < 100) {\r\n                    // 手动发后100豪秒内不能自动change\r\n                    return;\r\n                }\r\n                var data = __assign(__assign({ startTime: this.startTime, durationTime: durationTime }, this.info), { actionType: ACTION_TYPE.DURATION, trackId: '' });\r\n                send(data);\r\n                this.info = null;\r\n            }\r\n        };\r\n        PageTimeTracker.instance = null;\r\n        return PageTimeTracker;\r\n    }());\r\n    var instance = PageTimeTracker.getInstance();\r\n    //# sourceMappingURL=pageTimeTracker.js.map\n\n    var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\n    function createCommonjsModule(fn, module) {\n    \treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n    }\n\n    var vissense = createCommonjsModule(function (module, exports) {\n    /*! { \"name\": \"vissense\", \"version\": \"0.10.0\", \"homepage\": \"https://vissense.github.io/vissense\",\"copyright\": \"(c) 2016 tbk\" } */\n    !function(root, name, factory) {\n        var withWindow = function(win) {\n            var product = factory(win, win.document);\n            return product.noConflict = function() {\n                return product;\n            }, product;\n        };\n        module.exports = function(win) {\n            return withWindow(win);\n        };\n    }(commonjsGlobal, \"VisSense\", function(window, document, undefined$1) {\n        function async(callback, delay) {\n            return function() {\n                var args = arguments;\n                return defer(function() {\n                    callback.apply(undefined$1, args);\n                }, delay || 0);\n            };\n        }\n        function debounce(callback, delay) {\n            var cancel = noop;\n            return function() {\n                var self = this, args = arguments;\n                cancel(), cancel = defer(function() {\n                    callback.apply(self, args);\n                }, delay);\n            };\n        }\n        function defaults(dest, source) {\n            var sourceIsObject = isObject(source), destIsObject = isObject(dest);\n            return sourceIsObject || destIsObject ? sourceIsObject && destIsObject ? (forEach(Object.keys(source), function(property) {\n                dest[property] === undefined$1 && (dest[property] = source[property]);\n            }), dest) : sourceIsObject ? source : dest : source;\n        }\n        function defer(callback, delay) {\n            var timer = setTimeout(function() {\n                callback();\n            }, delay || 0);\n            return function() {\n                clearTimeout(timer);\n            };\n        }\n        function fireIf(when, callback) {\n            return function() {\n                return (isFunction(when) ? when() : when) ? callback() : undefined$1;\n            };\n        }\n        function extend(dest, source, callback) {\n            for (var index = -1, props = Object.keys(source), length = props.length, ask = isFunction(callback); ++index < length; ) {\n                var key = props[index];\n                dest[key] = ask ? callback(dest[key], source[key], key, dest, source) : source[key];\n            }\n            return dest;\n        }\n        function forEach(array, callback, thisArg) {\n            for (var i = 0, n = array.length; n > i; i++) {\n                var result = callback.call(thisArg, array[i], i, array);\n                if (result !== undefined$1) return result;\n            }\n        }\n        function identity(value) {\n            return value;\n        }\n        function isDefined(value) {\n            return value !== undefined$1;\n        }\n        function isArray(value) {\n            return value && \"object\" == typeof value && \"number\" == typeof value.length && \"[object Array]\" === Object.prototype.toString.call(value) || !1;\n        }\n        function isElement(value) {\n            return value && 1 === value.nodeType || !1;\n        }\n        function isFunction(value) {\n            return \"function\" == typeof value || !1;\n        }\n        function isObject(value) {\n            var type = typeof value;\n            return \"function\" === type || value && \"object\" === type || !1;\n        }\n        function noop() {}\n        function now() {\n            return new Date().getTime();\n        }\n        function once(callback) {\n            var cache, called = !1;\n            return function() {\n                return called || (cache = callback.apply(undefined$1, arguments), called = !0), cache;\n            };\n        }\n        function throttle(callback, wait, thisArg) {\n            var cancel = noop, last = !1;\n            return function() {\n                var time = now(), args = arguments, func = function() {\n                    last = time, callback.apply(thisArg, args);\n                };\n                last && last + wait > time ? (cancel(), cancel = defer(func, wait)) : (last = time, \n                defer(func, 0));\n            };\n        }\n        function viewport(referenceWindow) {\n            var win = referenceWindow || window;\n            return {\n                height: win.innerHeight,\n                width: win.innerWidth\n            };\n        }\n        function computedStyle(element, referenceWindow) {\n            return (referenceWindow || window).getComputedStyle(element, null);\n        }\n        function styleProperty(style, property) {\n            return style.getPropertyValue(property);\n        }\n        function isDisplayed(element, style) {\n            style || (style = computedStyle(element));\n            var display = styleProperty(style, \"display\");\n            if (\"none\" === display) return !1;\n            var parent = element.parentNode;\n            return isElement(parent) ? isDisplayed(parent) : !0;\n        }\n        function isVisibleByStyling(element, referenceWindow) {\n            if (element === (referenceWindow || window).document) return !0;\n            if (!element || !element.parentNode) return !1;\n            var style = computedStyle(element, referenceWindow), visibility = styleProperty(style, \"visibility\");\n            return \"hidden\" === visibility || \"collapse\" === visibility ? !1 : isDisplayed(element, style);\n        }\n        function isInViewport(rect, viewport) {\n            return !rect || rect.width <= 0 || rect.height <= 0 ? !1 : rect.bottom > 0 && rect.right > 0 && rect.top < viewport.height && rect.left < viewport.width;\n        }\n        function percentage(element, referenceWindow) {\n            var rect = element.getBoundingClientRect(), view = viewport(referenceWindow);\n            if (!isInViewport(rect, view) || !isVisibleByStyling(element)) return 0;\n            var vh = 0, vw = 0;\n            return rect.top >= 0 ? vh = Math.min(rect.height, view.height - rect.top) : rect.bottom > 0 && (vh = Math.min(view.height, rect.bottom)), \n            rect.left >= 0 ? vw = Math.min(rect.width, view.width - rect.left) : rect.right > 0 && (vw = Math.min(view.width, rect.right)), \n            vh * vw / (rect.height * rect.width);\n        }\n        function isPageVisible(referenceWindow) {\n            return !createVisibilityApi(referenceWindow || window).isHidden();\n        }\n        function VisSense(element, config) {\n            if (!(this instanceof VisSense)) return new VisSense(element, config);\n            if (!isElement(element)) throw new Error(\"not an element node\");\n            this._element = element, this._config = defaults(config, {\n                fullyvisible: 1,\n                hidden: 0,\n                referenceWindow: window,\n                percentageHook: percentage,\n                precision: 3,\n                visibilityHooks: []\n            });\n            var roundFactor = this._config.precision <= 0 ? 1 : Math.pow(10, this._config.precision || 3);\n            this._round = function(val) {\n                return Math.round(val * roundFactor) / roundFactor;\n            };\n            var visibilityApi = createVisibilityApi(this._config.referenceWindow);\n            this._config.visibilityHooks.push(function() {\n                return !visibilityApi.isHidden();\n            });\n        }\n        function nextState(visobj, currentState) {\n            var newState = visobj.state(), percentage = newState.percentage;\n            return currentState && percentage === currentState.percentage && currentState.percentage === currentState.previous.percentage ? currentState : newState.hidden ? VisSense.VisState.hidden(percentage, currentState) : newState.fullyvisible ? VisSense.VisState.fullyvisible(percentage, currentState) : VisSense.VisState.visible(percentage, currentState);\n        }\n        function VisMon(visobj, config) {\n            var _config = defaults(config, {\n                strategy: [ new VisMon.Strategy.PollingStrategy(), new VisMon.Strategy.EventStrategy() ],\n                async: !1\n            });\n            this._visobj = visobj, this._state = {}, this._started = !1;\n            var anyTopicName = \"*#\" + now();\n            this._pubsub = new PubSub({\n                async: _config.async,\n                anyTopicName: anyTopicName\n            }), this._events = [ anyTopicName, \"start\", \"stop\", \"update\", \"hidden\", \"visible\", \"fullyvisible\", \"percentagechange\", \"visibilitychange\" ], \n            this._strategy = new VisMon.Strategy.CompositeStrategy(_config.strategy), this._strategy.init(this), \n            this._pubsub.on(\"update\", function(monitor) {\n                var newValue = monitor._state.percentage, oldValue = monitor._state.previous.percentage;\n                newValue !== oldValue && monitor._pubsub.publish(\"percentagechange\", [ monitor, newValue, oldValue ]);\n            }), this._pubsub.on(\"update\", function(monitor) {\n                monitor._state.code !== monitor._state.previous.code && monitor._pubsub.publish(\"visibilitychange\", [ monitor ]);\n            }), this._pubsub.on(\"visibilitychange\", function(monitor) {\n                monitor._state.visible && !monitor._state.previous.visible && monitor._pubsub.publish(\"visible\", [ monitor ]);\n            }), this._pubsub.on(\"visibilitychange\", function(monitor) {\n                monitor._state.fullyvisible && monitor._pubsub.publish(\"fullyvisible\", [ monitor ]);\n            }), this._pubsub.on(\"visibilitychange\", function(monitor) {\n                monitor._state.hidden && monitor._pubsub.publish(\"hidden\", [ monitor ]);\n            }), forEach(this._events, function(event) {\n                isFunction(_config[event]) && this.on(event, _config[event]);\n            }, this);\n        }\n        var createVisibilityApi = function(referenceWindow) {\n            return function(document, undefined$1) {\n                var entry = function(propertyName, eventName) {\n                    return {\n                        property: propertyName,\n                        event: eventName\n                    };\n                }, event = \"visibilitychange\", dict = [ entry(\"webkitHidden\", \"webkit\" + event), entry(\"msHidden\", \"ms\" + event), entry(\"mozHidden\", \"moz\" + event), entry(\"hidden\", event) ], api = forEach(dict, function(entry) {\n                    return document[entry.property] !== undefined$1 ? {\n                        isHidden: function() {\n                            return !!document[entry.property] || !1;\n                        },\n                        onVisibilityChange: function(callback) {\n                            return document.addEventListener(entry.event, callback, !1), function() {\n                                document.removeEventListener(entry.event, callback, !1);\n                            };\n                        }\n                    } : void 0;\n                });\n                return api || {\n                    isHidden: function() {\n                        return !1;\n                    },\n                    onVisibilityChange: function() {\n                        return noop;\n                    }\n                };\n            }((referenceWindow || window).document);\n        }, PubSub = function(undefined$1) {\n            function PubSub(config) {\n                this._cache = {}, this._onAnyCache = [], this._config = defaults(config, {\n                    async: !1,\n                    anyTopicName: \"*\"\n                });\n            }\n            var syncFireListeners = function(consumers, args) {\n                forEach(consumers, function(consumer) {\n                    consumer(args);\n                });\n            };\n            return PubSub.prototype.on = function(topic, callback) {\n                if (!isFunction(callback)) return noop;\n                var applyCallback = function(args) {\n                    return callback.apply(undefined$1, args || []);\n                }, listener = this._config.async ? async(applyCallback) : applyCallback, unregister = function(listener, array, topic) {\n                    return function() {\n                        var index = array.indexOf(listener);\n                        return index > -1 ? (array.splice(index, 1), !0) : !1;\n                    };\n                };\n                return topic === this._config.anyTopicName ? (this._onAnyCache.push(listener), unregister(listener, this._onAnyCache)) : (this._cache[topic] || (this._cache[topic] = []), \n                this._cache[topic].push(listener), unregister(listener, this._cache[topic]));\n            }, PubSub.prototype.publish = function(topic, args) {\n                var listeners = (this._cache[topic] || []).concat(topic === this._config.anyTopicName ? [] : this._onAnyCache), enableAsync = !!this._config.async, syncOrAsyncPublish = enableAsync ? async(syncFireListeners) : function(listeners, args) {\n                    return syncFireListeners(listeners, args), noop;\n                };\n                return syncOrAsyncPublish(listeners, args || []);\n            }, PubSub;\n        }();\n        VisSense.prototype.state = function() {\n            var hiddenByHook = forEach(this._config.visibilityHooks, function(hook) {\n                return hook(this._element) ? void 0 : VisSense.VisState.hidden(0);\n            }, this);\n            return hiddenByHook || function(visobj, element, config) {\n                var perc = visobj._round(config.percentageHook(element, config.referenceWindow));\n                return perc <= config.hidden ? VisSense.VisState.hidden(perc) : perc >= config.fullyvisible ? VisSense.VisState.fullyvisible(perc) : VisSense.VisState.visible(perc);\n            }(this, this._element, this._config);\n        }, VisSense.prototype.percentage = function() {\n            return this.state().percentage;\n        }, VisSense.prototype.element = function() {\n            return this._element;\n        }, VisSense.prototype.referenceWindow = function() {\n            return this._config.referenceWindow;\n        }, VisSense.prototype.isFullyVisible = function() {\n            return this.state().fullyvisible;\n        }, VisSense.prototype.isVisible = function() {\n            return this.state().visible;\n        }, VisSense.prototype.isHidden = function() {\n            return this.state().hidden;\n        }, VisSense.fn = VisSense.prototype, VisSense.of = function(element, config) {\n            return new VisSense(element, config);\n        };\n        var STATES = {\n            HIDDEN: [ 0, \"hidden\" ],\n            VISIBLE: [ 1, \"visible\" ],\n            FULLY_VISIBLE: [ 2, \"fullyvisible\" ]\n        };\n        return VisSense.VisState = function() {\n            function newVisState(state, percentage, previous) {\n                return previous && delete previous.previous, {\n                    code: state[0],\n                    state: state[1],\n                    percentage: percentage,\n                    previous: previous || {},\n                    fullyvisible: state[0] === STATES.FULLY_VISIBLE[0],\n                    visible: state[0] === STATES.VISIBLE[0] || state[0] === STATES.FULLY_VISIBLE[0],\n                    hidden: state[0] === STATES.HIDDEN[0]\n                };\n            }\n            return {\n                hidden: function(percentage, previous) {\n                    return newVisState(STATES.HIDDEN, percentage, previous);\n                },\n                visible: function(percentage, previous) {\n                    return newVisState(STATES.VISIBLE, percentage, previous);\n                },\n                fullyvisible: function(percentage, previous) {\n                    return newVisState(STATES.FULLY_VISIBLE, percentage, previous);\n                }\n            };\n        }(), VisMon.prototype.visobj = function() {\n            return this._visobj;\n        }, VisMon.prototype.publish = function(eventName, args) {\n            var isInternalEvent = this._events.indexOf(eventName) >= 0;\n            if (isInternalEvent) throw new Error('Cannot publish internal event \"' + eventName + '\" from external scope.');\n            return this._pubsub.publish(eventName, args);\n        }, VisMon.prototype.state = function() {\n            return this._state;\n        }, VisMon.prototype.start = function(config) {\n            if (this._started) return this;\n            var _config = defaults(config, {\n                async: !1\n            });\n            return this._cancelAsyncStart && this._cancelAsyncStart(), _config.async ? this.startAsync() : (this._started = !0, \n            this.update(), this._pubsub.publish(\"start\", [ this ]), this._strategy.start(this), \n            this);\n        }, VisMon.prototype.startAsync = function(config) {\n            this._cancelAsyncStart && this._cancelAsyncStart();\n            var me = this, cancelAsyncStart = defer(function() {\n                me.start(extend(defaults(config, {}), {\n                    async: !1\n                }));\n            });\n            return this._cancelAsyncStart = function() {\n                cancelAsyncStart(), me._cancelAsyncStart = null;\n            }, this;\n        }, VisMon.prototype.stop = function() {\n            this._cancelAsyncStart && this._cancelAsyncStart(), this._started && (this._strategy.stop(this), \n            this._pubsub.publish(\"stop\", [ this ])), this._started = !1;\n        }, VisMon.prototype.update = function() {\n            this._started && (this._state = nextState(this._visobj, this._state), this._pubsub.publish(\"update\", [ this ]));\n        }, VisMon.prototype.on = function(topic, callback) {\n            return this._pubsub.on(topic, callback);\n        }, VisMon.Builder = function() {\n            var combineStrategies = function(config, strategies) {\n                var combinedStrategies = null, forceDisableStrategies = config.strategy === !1, enableStrategies = !forceDisableStrategies && (config.strategy || strategies.length > 0);\n                if (enableStrategies) {\n                    var configStrategyIsDefined = !!config.strategy, configStrategyIsArray = isArray(config.strategy), configStrategyAsArray = configStrategyIsDefined ? configStrategyIsArray ? config.strategy : [ config.strategy ] : [];\n                    combinedStrategies = configStrategyAsArray.concat(strategies);\n                } else combinedStrategies = forceDisableStrategies ? [] : config.strategy;\n                return combinedStrategies;\n            };\n            return function(visobj) {\n                var config = {}, strategies = [], events = [], productBuilt = !1, product = null;\n                return {\n                    set: function(name, value) {\n                        return config[name] = value, this;\n                    },\n                    strategy: function(strategy) {\n                        return strategies.push(strategy), this;\n                    },\n                    on: function(event, handler) {\n                        return events.push([ event, handler ]), this;\n                    },\n                    build: function(consumer) {\n                        var manufacture = function() {\n                            var combinedStrategies = combineStrategies(config, strategies);\n                            config.strategy = combinedStrategies;\n                            var monitor = visobj.monitor(config);\n                            return forEach(events, function(event) {\n                                monitor.on(event[0], event[1]);\n                            }), productBuilt = !0, product = monitor;\n                        }, monitor = productBuilt ? product : manufacture();\n                        return isFunction(consumer) ? consumer(monitor) : monitor;\n                    }\n                };\n            };\n        }(), VisMon.Strategy = function() {}, VisMon.Strategy.prototype.init = noop, VisMon.Strategy.prototype.start = noop, \n        VisMon.Strategy.prototype.stop = noop, VisMon.Strategy.CompositeStrategy = function(strategies) {\n            this._strategies = isArray(strategies) ? strategies : [ strategies ];\n        }, VisMon.Strategy.CompositeStrategy.prototype = Object.create(VisMon.Strategy.prototype), \n        VisMon.Strategy.CompositeStrategy.prototype.init = function(monitor) {\n            forEach(this._strategies, function(strategy) {\n                isFunction(strategy.init) && strategy.init(monitor);\n            });\n        }, VisMon.Strategy.CompositeStrategy.prototype.start = function(monitor) {\n            forEach(this._strategies, function(strategy) {\n                isFunction(strategy.start) && strategy.start(monitor);\n            });\n        }, VisMon.Strategy.CompositeStrategy.prototype.stop = function(monitor) {\n            forEach(this._strategies, function(strategy) {\n                isFunction(strategy.stop) && strategy.stop(monitor);\n            });\n        }, VisMon.Strategy.PollingStrategy = function(config) {\n            this._config = defaults(config, {\n                interval: 1e3\n            }), this._started = !1;\n        }, VisMon.Strategy.PollingStrategy.prototype = Object.create(VisMon.Strategy.prototype), \n        VisMon.Strategy.PollingStrategy.prototype.start = function(monitor) {\n            return this._started || (this._clearInterval = function(interval) {\n                var intervalId = setInterval(function() {\n                    monitor.update();\n                }, interval);\n                return function() {\n                    clearInterval(intervalId);\n                };\n            }(this._config.interval), this._started = !0), this._started;\n        }, VisMon.Strategy.PollingStrategy.prototype.stop = function() {\n            return this._started ? (this._clearInterval(), this._started = !1, !0) : !1;\n        }, VisMon.Strategy.EventStrategy = function(config) {\n            this._config = defaults(config, {\n                throttle: 50\n            }), this._config.debounce > 0 && (this._config.throttle = +this._config.debounce), \n            this._started = !1;\n        }, VisMon.Strategy.EventStrategy.prototype = Object.create(VisMon.Strategy.prototype), \n        VisMon.Strategy.EventStrategy.prototype.start = function(monitor) {\n            return this._started || (this._removeEventListeners = function(update) {\n                var referenceWindow = monitor.visobj().referenceWindow(), visibilityApi = createVisibilityApi(referenceWindow), removeOnVisibilityChangeEvent = visibilityApi.onVisibilityChange(update);\n                return referenceWindow.addEventListener(\"scroll\", update, !1), referenceWindow.addEventListener(\"resize\", update, !1), \n                referenceWindow.addEventListener(\"touchmove\", update, !1), function() {\n                    referenceWindow.removeEventListener(\"touchmove\", update, !1), referenceWindow.removeEventListener(\"resize\", update, !1), \n                    referenceWindow.removeEventListener(\"scroll\", update, !1), removeOnVisibilityChangeEvent();\n                };\n            }(throttle(function() {\n                monitor.update();\n            }, this._config.throttle)), this._started = !0), this._started;\n        }, VisMon.Strategy.EventStrategy.prototype.stop = function() {\n            return this._started ? (this._removeEventListeners(), this._started = !1, !0) : !1;\n        }, VisSense.VisMon = VisMon, VisSense.PubSub = PubSub, VisSense.fn.monitor = function(config) {\n            return new VisMon(this, config);\n        }, VisSense.Utils = {\n            async: async,\n            debounce: debounce,\n            defaults: defaults,\n            defer: defer,\n            extend: extend,\n            forEach: forEach,\n            fireIf: fireIf,\n            identity: identity,\n            isArray: isArray,\n            isDefined: isDefined,\n            isElement: isElement,\n            isFunction: isFunction,\n            isObject: isObject,\n            isPageVisible: isPageVisible,\n            isVisibleByStyling: isVisibleByStyling,\n            noop: noop,\n            now: now,\n            once: once,\n            throttle: throttle,\n            percentage: percentage,\n            VisibilityApi: createVisibilityApi(),\n            createVisibilityApi: createVisibilityApi,\n            _viewport: viewport,\n            _isInViewport: isInViewport,\n            _isDisplayed: isDisplayed,\n            _computedStyle: computedStyle,\n            _styleProperty: styleProperty\n        }, VisSense;\n    });\n    });\n\n    var VisSense = vissense(window);\r\n    var VisSenseUtils = VisSense.Utils;\r\n    var createInnerMonitor = function (outerMonitor, callback, config) {\r\n        var timeElapsed = 0;\r\n        var timeStarted = null;\r\n        var timeLimit = config.timeLimit;\r\n        var percentageLimit = config.percentageLimit;\r\n        var interval = config.interval;\r\n        return VisSense.VisMon.Builder(outerMonitor.visobj())\r\n            .strategy(new VisSense.VisMon.Strategy.PollingStrategy({ interval: interval }))\r\n            .on('update', function (monitor) {\r\n            var percentage = monitor.state().percentage;\r\n            if (percentage < percentageLimit) {\r\n                timeStarted = null;\r\n            }\r\n            else {\r\n                var now = VisSenseUtils.now();\r\n                timeStarted = timeStarted || now;\r\n                timeElapsed = now - timeStarted;\r\n            }\r\n            if (timeElapsed >= timeLimit) {\r\n                monitor.stop();\r\n                outerMonitor.stop();\r\n                callback(monitor);\r\n            }\r\n        })\r\n            .on('stop', function () {\r\n            timeStarted = null;\r\n        })\r\n            .build();\r\n    };\r\n    var onPercentageTimeTestPassed = function (visobj, callback, config) {\r\n        var _config = VisSenseUtils.defaults(config, {\r\n            percentageLimit: 1,\r\n            timeLimit: 1000,\r\n            interval: 100,\r\n            strategy: undefined\r\n        });\r\n        // monitor is considered hidden if it is 1% below the percentage limit\r\n        var hiddenLimit = Math.max(_config.percentageLimit - 0.001, 0);\r\n        var innerMonitor = null;\r\n        var outerMonitor = VisSense.VisMon.Builder(new VisSense(visobj.element(), {\r\n            hidden: hiddenLimit,\r\n            referenceWindow: visobj.referenceWindow()\r\n        }))\r\n            .set('strategy', _config.strategy)\r\n            .on('visible', function (monitor) {\r\n            if (innerMonitor === null) {\r\n                innerMonitor = createInnerMonitor(monitor, callback, _config);\r\n            }\r\n            innerMonitor.start();\r\n        })\r\n            .on('hidden', function () {\r\n            if (innerMonitor !== null) {\r\n                innerMonitor.stop();\r\n            }\r\n        })\r\n            .on('stop', function () {\r\n            if (innerMonitor !== null) {\r\n                innerMonitor.stop();\r\n            }\r\n        })\r\n            .build();\r\n        outerMonitor.start();\r\n        return function () {\r\n            outerMonitor.stop();\r\n            innerMonitor = null;\r\n        };\r\n    };\r\n    VisSense.fn.onPercentageTimeTestPassed = function (callback, config) {\r\n        onPercentageTimeTestPassed(this, callback, config);\r\n    };\r\n    //# sourceMappingURL=viewTracker.js.map\n\n    /**\r\n     *埋点入口类\r\n     *\r\n     * @class ActionTracker\r\n     */\r\n    var ActionTracker = /** @class */ (function () {\r\n        function ActionTracker() {\r\n        }\r\n        ActionTracker.getInstance = function () {\r\n            if (!ActionTracker.instance) {\r\n                ActionTracker.instance = new ActionTracker();\r\n            }\r\n            return ActionTracker.instance;\r\n        };\r\n        /**\r\n         * 埋点页面,如果需要埋页面时间重置时间 发送放pageChange发\r\n         * @memberof ActionTracker\r\n         */\r\n        ActionTracker.prototype.trackPage = function (info) {\r\n            if (info === void 0) { info = {}; }\r\n            var config = getConfig();\r\n            if (config.pageTime) {\r\n                instance.end();\r\n            }\r\n            var data = __assign({ actionType: ACTION_TYPE.PAGE }, info);\r\n            //修改当前pageInfo\r\n            var _a = getPageInfo(), pageId = _a.pageId, url = _a.url;\r\n            setPageInfo({ pageId: data.trackId || '', referrerId: pageId || '', referrerUrl: url || '' });\r\n            send(data);\r\n            if (config.pageTime) {\r\n                instance.start(data);\r\n            }\r\n        };\r\n        /**\r\n         * 时长埋点\r\n         * @memberof ActionTracker\r\n         */\r\n        ActionTracker.prototype.trackDuration = function (info) {\r\n            if (info === void 0) { info = {}; }\r\n            var data = __assign({ actionType: ACTION_TYPE.DURATION }, info);\r\n            send(data);\r\n        };\r\n        /**\r\n         *\r\n         *事件埋点\r\n         */\r\n        ActionTracker.prototype.trackEvent = function (info) {\r\n            if (info === void 0) { info = {}; }\r\n            var data = __assign({ actionType: ACTION_TYPE.EVENT, eventName: 'CLICK' }, info);\r\n            send(data);\r\n        };\r\n        /**\r\n         * 视窗埋点 暂时不启用\r\n         * @param dom\r\n         * @param info\r\n         * @param visSenseConfig\r\n         */\r\n        ActionTracker.prototype.trackView = function (dom, info, visSenseConfig) {\r\n            if (visSenseConfig === void 0) { visSenseConfig = {}; }\r\n            var data = __assign({ actionType: ACTION_TYPE.VIEW, domId: dom.id, domClass: dom.className, domTag: dom.tagName, domContent: dom.textContent.substr(0, 20), domPath: getDomPath(dom) }, info);\r\n            var visobj = VisSense(dom);\r\n            visobj.onPercentageTimeTestPassed(function () {\r\n                send(data);\r\n            }, {\r\n                percentageLimit: visSenseConfig.percentageLimit || 0.5,\r\n                timeLimit: visSenseConfig.timeLimit || 1000,\r\n                interval: 200\r\n            });\r\n        };\r\n        /**\r\n         *通用埋点入口 埋点类型自行控制\r\n         *\r\n         */\r\n        ActionTracker.prototype.track = function (info) {\r\n            switch (info.actionType) {\r\n                case ACTION_TYPE.EVENT:\r\n                    this.trackEvent(info);\r\n                    break;\r\n                case ACTION_TYPE.PAGE:\r\n                    this.trackPage(info);\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n            send(info);\r\n        };\r\n        /**\r\n         * a标签埋点 做300毫秒延迟跳转 确保埋点成功\r\n         * @param linkDom\r\n         * @param info\r\n         */\r\n        ActionTracker.prototype.trackLink = function (linkDom, info) {\r\n            if (info === void 0) { info = {}; }\r\n            var config = getConfig();\r\n            if (config.delayLink) {\r\n                linkDom.addEventListener('click', function (e) {\r\n                    e.preventDefault();\r\n                    setTimeout(function () {\r\n                        linkDom.click();\r\n                    }, config.delayLinkTime);\r\n                }, false);\r\n            }\r\n            this.trackDom(linkDom, info);\r\n            sendAsync();\r\n        };\r\n        /**\r\n         *埋点dom 做1秒防抖\r\n         *\r\n         * @param {(HTMLLinkElement | HTMLInputElement | HTMLLinkElement)} dom\r\n         * @param {ITrackerData} [info={}]\r\n         * @returns\r\n         * @memberof ActionTracker\r\n         */\r\n        ActionTracker.prototype.trackDom = function (dom, info) {\r\n            if (info === void 0) { info = {}; }\r\n            //防止频繁触发\r\n            var _dom = dom;\r\n            if (_dom.IS_TRACKED) {\r\n                clearTimeout(_dom.DELAY_TRACK_TIME);\r\n                _dom.DELAY_TRACK_TIME = setTimeout(function () {\r\n                    _dom.IS_TRACKED = false;\r\n                }, 1000);\r\n                return;\r\n            }\r\n            _dom.IS_TRACKED = true;\r\n            _dom.DELAY_TRACK_TIME = setTimeout(function () {\r\n                _dom.IS_TRACKED = false;\r\n            }, 1000);\r\n            var trackInfo = {\r\n                trackId: '',\r\n                domId: dom.id,\r\n                domClass: dom.className,\r\n                domHref: dom.href || '',\r\n                domName: dom.name || '',\r\n                domTag: dom.tagName,\r\n                domContent: dom.textContent.substr(0, 20),\r\n                domPath: getDomPath(dom)\r\n            };\r\n            var track = dom.getAttribute('data-track');\r\n            if (track && track.search(/^\\{[\\S\\s]*\\}$/) >= 0) {\r\n                trackInfo = __assign(__assign({}, trackInfo), JSON.parse(track));\r\n            }\r\n            else {\r\n                trackInfo.trackId = track || '';\r\n            }\r\n            if (info) {\r\n                trackInfo = __assign(__assign({}, trackInfo), info);\r\n            }\r\n            this.trackEvent(trackInfo);\r\n        };\r\n        ActionTracker.instance = null;\r\n        return ActionTracker;\r\n    }());\r\n    var instance$1 = ActionTracker.getInstance();\r\n    //# sourceMappingURL=actionTracker.js.map\n\n    /**\n     * Optimized internal three-arity curry function.\n     *\n     * @private\n     * @category Function\n     * @param {Function} fn The function to curry.\n     * @return {Function} The curried function.\n     */\n\n\n    function _curry3(fn) {\n      return function f3(a, b, c) {\n        switch (arguments.length) {\n          case 0:\n            return f3;\n\n          case 1:\n            return _isPlaceholder_1(a) ? f3 : _curry2_1(function (_b, _c) {\n              return fn(a, _b, _c);\n            });\n\n          case 2:\n            return _isPlaceholder_1(a) && _isPlaceholder_1(b) ? f3 : _isPlaceholder_1(a) ? _curry2_1(function (_a, _c) {\n              return fn(_a, b, _c);\n            }) : _isPlaceholder_1(b) ? _curry2_1(function (_b, _c) {\n              return fn(a, _b, _c);\n            }) : _curry1_1(function (_c) {\n              return fn(a, b, _c);\n            });\n\n          default:\n            return _isPlaceholder_1(a) && _isPlaceholder_1(b) && _isPlaceholder_1(c) ? f3 : _isPlaceholder_1(a) && _isPlaceholder_1(b) ? _curry2_1(function (_a, _b) {\n              return fn(_a, _b, c);\n            }) : _isPlaceholder_1(a) && _isPlaceholder_1(c) ? _curry2_1(function (_a, _c) {\n              return fn(_a, b, _c);\n            }) : _isPlaceholder_1(b) && _isPlaceholder_1(c) ? _curry2_1(function (_b, _c) {\n              return fn(a, _b, _c);\n            }) : _isPlaceholder_1(a) ? _curry1_1(function (_a) {\n              return fn(_a, b, c);\n            }) : _isPlaceholder_1(b) ? _curry1_1(function (_b) {\n              return fn(a, _b, c);\n            }) : _isPlaceholder_1(c) ? _curry1_1(function (_c) {\n              return fn(a, b, _c);\n            }) : fn(a, b, c);\n        }\n      };\n    }\n\n    var _curry3_1 = _curry3;\n\n    /**\n     * Returns a function that always returns the given value. Note that for\n     * non-primitives the value returned is a reference to the original value.\n     *\n     * This function is known as `const`, `constant`, or `K` (for K combinator) in\n     * other languages and libraries.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category Function\n     * @sig a -> (* -> a)\n     * @param {*} val The value to wrap in a function\n     * @return {Function} A Function :: * -> val.\n     * @example\n     *\n     *      const t = R.always('Tee');\n     *      t(); //=> 'Tee'\n     */\n\n\n    var always =\n    /*#__PURE__*/\n    _curry1_1(function always(val) {\n      return function () {\n        return val;\n      };\n    });\n\n    var always_1 = always;\n\n    // `Identity` is a functor that holds a single value, where `map` simply\n    // transforms the held value with the provided function.\n\n\n    var Identity = function (x) {\n      return {\n        value: x,\n        map: function (f) {\n          return Identity(f(x));\n        }\n      };\n    };\n    /**\n     * Returns the result of \"setting\" the portion of the given data structure\n     * focused by the given lens to the result of applying the given function to\n     * the focused value.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.16.0\n     * @category Object\n     * @typedefn Lens s a = Functor f => (a -> f a) -> s -> f s\n     * @sig Lens s a -> (a -> a) -> s -> s\n     * @param {Lens} lens\n     * @param {*} v\n     * @param {*} x\n     * @return {*}\n     * @see R.prop, R.lensIndex, R.lensProp\n     * @example\n     *\n     *      const headLens = R.lensIndex(0);\n     *\n     *      R.over(headLens, R.toUpper, ['foo', 'bar', 'baz']); //=> ['FOO', 'bar', 'baz']\n     */\n\n\n    var over =\n    /*#__PURE__*/\n    _curry3_1(function over(lens, f, x) {\n      // The value returned by the getter function is first transformed with `f`,\n      // then set as the value of an `Identity`. This is then mapped over with the\n      // setter function of the lens.\n      return lens(function (y) {\n        return Identity(f(y));\n      })(x).value;\n    });\n\n    var over_1 = over;\n\n    /**\n     * Returns the result of \"setting\" the portion of the given data structure\n     * focused by the given lens to the given value.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.16.0\n     * @category Object\n     * @typedefn Lens s a = Functor f => (a -> f a) -> s -> f s\n     * @sig Lens s a -> a -> s -> s\n     * @param {Lens} lens\n     * @param {*} v\n     * @param {*} x\n     * @return {*}\n     * @see R.prop, R.lensIndex, R.lensProp\n     * @example\n     *\n     *      const xLens = R.lensProp('x');\n     *\n     *      R.set(xLens, 4, {x: 1, y: 2});  //=> {x: 4, y: 2}\n     *      R.set(xLens, 8, {x: 1, y: 2});  //=> {x: 8, y: 2}\n     */\n\n\n    var set =\n    /*#__PURE__*/\n    _curry3_1(function set(lens, v, x) {\n      return over_1(lens, always_1(v), x);\n    });\n\n    var set_1 = set;\n\n    function _isPlaceholder$1(a) {\n      return a != null && typeof a === 'object' && a['@@functional/placeholder'] === true;\n    }\n\n    /**\n     * Optimized internal one-arity curry function.\n     *\n     * @private\n     * @category Function\n     * @param {Function} fn The function to curry.\n     * @return {Function} The curried function.\n     */\n\n    function _curry1$1(fn) {\n      return function f1(a) {\n        if (arguments.length === 0 || _isPlaceholder$1(a)) {\n          return f1;\n        } else {\n          return fn.apply(this, arguments);\n        }\n      };\n    }\n\n    /**\n     * Optimized internal two-arity curry function.\n     *\n     * @private\n     * @category Function\n     * @param {Function} fn The function to curry.\n     * @return {Function} The curried function.\n     */\n\n    function _curry2$1(fn) {\n      return function f2(a, b) {\n        switch (arguments.length) {\n          case 0:\n            return f2;\n\n          case 1:\n            return _isPlaceholder$1(a) ? f2 : _curry1$1(function (_b) {\n              return fn(a, _b);\n            });\n\n          default:\n            return _isPlaceholder$1(a) && _isPlaceholder$1(b) ? f2 : _isPlaceholder$1(a) ? _curry1$1(function (_a) {\n              return fn(_a, b);\n            }) : _isPlaceholder$1(b) ? _curry1$1(function (_b) {\n              return fn(a, _b);\n            }) : fn(a, b);\n        }\n      };\n    }\n\n    function _arity(n, fn) {\n      /* eslint-disable no-unused-vars */\n      switch (n) {\n        case 0:\n          return function () {\n            return fn.apply(this, arguments);\n          };\n\n        case 1:\n          return function (a0) {\n            return fn.apply(this, arguments);\n          };\n\n        case 2:\n          return function (a0, a1) {\n            return fn.apply(this, arguments);\n          };\n\n        case 3:\n          return function (a0, a1, a2) {\n            return fn.apply(this, arguments);\n          };\n\n        case 4:\n          return function (a0, a1, a2, a3) {\n            return fn.apply(this, arguments);\n          };\n\n        case 5:\n          return function (a0, a1, a2, a3, a4) {\n            return fn.apply(this, arguments);\n          };\n\n        case 6:\n          return function (a0, a1, a2, a3, a4, a5) {\n            return fn.apply(this, arguments);\n          };\n\n        case 7:\n          return function (a0, a1, a2, a3, a4, a5, a6) {\n            return fn.apply(this, arguments);\n          };\n\n        case 8:\n          return function (a0, a1, a2, a3, a4, a5, a6, a7) {\n            return fn.apply(this, arguments);\n          };\n\n        case 9:\n          return function (a0, a1, a2, a3, a4, a5, a6, a7, a8) {\n            return fn.apply(this, arguments);\n          };\n\n        case 10:\n          return function (a0, a1, a2, a3, a4, a5, a6, a7, a8, a9) {\n            return fn.apply(this, arguments);\n          };\n\n        default:\n          throw new Error('First argument to _arity must be a non-negative integer no greater than ten');\n      }\n    }\n\n    /**\n     * Internal curryN function.\n     *\n     * @private\n     * @category Function\n     * @param {Number} length The arity of the curried function.\n     * @param {Array} received An array of arguments received thus far.\n     * @param {Function} fn The function to curry.\n     * @return {Function} The curried function.\n     */\n\n    function _curryN(length, received, fn) {\n      return function () {\n        var combined = [];\n        var argsIdx = 0;\n        var left = length;\n        var combinedIdx = 0;\n\n        while (combinedIdx < received.length || argsIdx < arguments.length) {\n          var result;\n\n          if (combinedIdx < received.length && (!_isPlaceholder$1(received[combinedIdx]) || argsIdx >= arguments.length)) {\n            result = received[combinedIdx];\n          } else {\n            result = arguments[argsIdx];\n            argsIdx += 1;\n          }\n\n          combined[combinedIdx] = result;\n\n          if (!_isPlaceholder$1(result)) {\n            left -= 1;\n          }\n\n          combinedIdx += 1;\n        }\n\n        return left <= 0 ? fn.apply(this, combined) : _arity(left, _curryN(length, combined, fn));\n      };\n    }\n\n    /**\n     * Returns a curried equivalent of the provided function, with the specified\n     * arity. The curried function has two unusual capabilities. First, its\n     * arguments needn't be provided one at a time. If `g` is `R.curryN(3, f)`, the\n     * following are equivalent:\n     *\n     *   - `g(1)(2)(3)`\n     *   - `g(1)(2, 3)`\n     *   - `g(1, 2)(3)`\n     *   - `g(1, 2, 3)`\n     *\n     * Secondly, the special placeholder value [`R.__`](#__) may be used to specify\n     * \"gaps\", allowing partial application of any combination of arguments,\n     * regardless of their positions. If `g` is as above and `_` is [`R.__`](#__),\n     * the following are equivalent:\n     *\n     *   - `g(1, 2, 3)`\n     *   - `g(_, 2, 3)(1)`\n     *   - `g(_, _, 3)(1)(2)`\n     *   - `g(_, _, 3)(1, 2)`\n     *   - `g(_, 2)(1)(3)`\n     *   - `g(_, 2)(1, 3)`\n     *   - `g(_, 2)(_, 3)(1)`\n     *\n     * @func\n     * @memberOf R\n     * @since v0.5.0\n     * @category Function\n     * @sig Number -> (* -> a) -> (* -> a)\n     * @param {Number} length The arity for the returned function.\n     * @param {Function} fn The function to curry.\n     * @return {Function} A new, curried function.\n     * @see R.curry\n     * @example\n     *\n     *      const sumArgs = (...args) => R.sum(args);\n     *\n     *      const curriedAddFourNumbers = R.curryN(4, sumArgs);\n     *      const f = curriedAddFourNumbers(1, 2);\n     *      const g = f(3);\n     *      g(4); //=> 10\n     */\n\n    var curryN =\n    /*#__PURE__*/\n    _curry2$1(function curryN(length, fn) {\n      if (length === 1) {\n        return _curry1$1(fn);\n      }\n\n      return _arity(length, _curryN(length, [], fn));\n    });\n\n    /**\n     * Optimized internal three-arity curry function.\n     *\n     * @private\n     * @category Function\n     * @param {Function} fn The function to curry.\n     * @return {Function} The curried function.\n     */\n\n    function _curry3$1(fn) {\n      return function f3(a, b, c) {\n        switch (arguments.length) {\n          case 0:\n            return f3;\n\n          case 1:\n            return _isPlaceholder$1(a) ? f3 : _curry2$1(function (_b, _c) {\n              return fn(a, _b, _c);\n            });\n\n          case 2:\n            return _isPlaceholder$1(a) && _isPlaceholder$1(b) ? f3 : _isPlaceholder$1(a) ? _curry2$1(function (_a, _c) {\n              return fn(_a, b, _c);\n            }) : _isPlaceholder$1(b) ? _curry2$1(function (_b, _c) {\n              return fn(a, _b, _c);\n            }) : _curry1$1(function (_c) {\n              return fn(a, b, _c);\n            });\n\n          default:\n            return _isPlaceholder$1(a) && _isPlaceholder$1(b) && _isPlaceholder$1(c) ? f3 : _isPlaceholder$1(a) && _isPlaceholder$1(b) ? _curry2$1(function (_a, _b) {\n              return fn(_a, _b, c);\n            }) : _isPlaceholder$1(a) && _isPlaceholder$1(c) ? _curry2$1(function (_a, _c) {\n              return fn(_a, b, _c);\n            }) : _isPlaceholder$1(b) && _isPlaceholder$1(c) ? _curry2$1(function (_b, _c) {\n              return fn(a, _b, _c);\n            }) : _isPlaceholder$1(a) ? _curry1$1(function (_a) {\n              return fn(_a, b, c);\n            }) : _isPlaceholder$1(b) ? _curry1$1(function (_b) {\n              return fn(a, _b, c);\n            }) : _isPlaceholder$1(c) ? _curry1$1(function (_c) {\n              return fn(a, b, _c);\n            }) : fn(a, b, c);\n        }\n      };\n    }\n\n    /**\n     * Tests whether or not an object is an array.\n     *\n     * @private\n     * @param {*} val The object to test.\n     * @return {Boolean} `true` if `val` is an array, `false` otherwise.\n     * @example\n     *\n     *      _isArray([]); //=> true\n     *      _isArray(null); //=> false\n     *      _isArray({}); //=> false\n     */\n    var _isArray = Array.isArray || function _isArray(val) {\n      return val != null && val.length >= 0 && Object.prototype.toString.call(val) === '[object Array]';\n    };\n\n    function _isTransformer(obj) {\n      return obj != null && typeof obj['@@transducer/step'] === 'function';\n    }\n\n    /**\n     * Returns a function that dispatches with different strategies based on the\n     * object in list position (last argument). If it is an array, executes [fn].\n     * Otherwise, if it has a function with one of the given method names, it will\n     * execute that function (functor case). Otherwise, if it is a transformer,\n     * uses transducer [xf] to return a new transformer (transducer case).\n     * Otherwise, it will default to executing [fn].\n     *\n     * @private\n     * @param {Array} methodNames properties to check for a custom implementation\n     * @param {Function} xf transducer to initialize if object is transformer\n     * @param {Function} fn default ramda implementation\n     * @return {Function} A function that dispatches on object in list position\n     */\n\n    function _dispatchable(methodNames, xf, fn) {\n      return function () {\n        if (arguments.length === 0) {\n          return fn();\n        }\n\n        var args = Array.prototype.slice.call(arguments, 0);\n        var obj = args.pop();\n\n        if (!_isArray(obj)) {\n          var idx = 0;\n\n          while (idx < methodNames.length) {\n            if (typeof obj[methodNames[idx]] === 'function') {\n              return obj[methodNames[idx]].apply(obj, args);\n            }\n\n            idx += 1;\n          }\n\n          if (_isTransformer(obj)) {\n            var transducer = xf.apply(null, args);\n            return transducer(obj);\n          }\n        }\n\n        return fn.apply(this, arguments);\n      };\n    }\n\n    var _xfBase = {\n      init: function () {\n        return this.xf['@@transducer/init']();\n      },\n      result: function (result) {\n        return this.xf['@@transducer/result'](result);\n      }\n    };\n\n    function _map(fn, functor) {\n      var idx = 0;\n      var len = functor.length;\n      var result = Array(len);\n\n      while (idx < len) {\n        result[idx] = fn(functor[idx]);\n        idx += 1;\n      }\n\n      return result;\n    }\n\n    function _isString(x) {\n      return Object.prototype.toString.call(x) === '[object String]';\n    }\n\n    /**\n     * Tests whether or not an object is similar to an array.\n     *\n     * @private\n     * @category Type\n     * @category List\n     * @sig * -> Boolean\n     * @param {*} x The object to test.\n     * @return {Boolean} `true` if `x` has a numeric length property and extreme indices defined; `false` otherwise.\n     * @example\n     *\n     *      _isArrayLike([]); //=> true\n     *      _isArrayLike(true); //=> false\n     *      _isArrayLike({}); //=> false\n     *      _isArrayLike({length: 10}); //=> false\n     *      _isArrayLike({0: 'zero', 9: 'nine', length: 10}); //=> true\n     */\n\n    var _isArrayLike =\n    /*#__PURE__*/\n    _curry1$1(function isArrayLike(x) {\n      if (_isArray(x)) {\n        return true;\n      }\n\n      if (!x) {\n        return false;\n      }\n\n      if (typeof x !== 'object') {\n        return false;\n      }\n\n      if (_isString(x)) {\n        return false;\n      }\n\n      if (x.nodeType === 1) {\n        return !!x.length;\n      }\n\n      if (x.length === 0) {\n        return true;\n      }\n\n      if (x.length > 0) {\n        return x.hasOwnProperty(0) && x.hasOwnProperty(x.length - 1);\n      }\n\n      return false;\n    });\n\n    var XWrap =\n    /*#__PURE__*/\n    function () {\n      function XWrap(fn) {\n        this.f = fn;\n      }\n\n      XWrap.prototype['@@transducer/init'] = function () {\n        throw new Error('init not implemented on XWrap');\n      };\n\n      XWrap.prototype['@@transducer/result'] = function (acc) {\n        return acc;\n      };\n\n      XWrap.prototype['@@transducer/step'] = function (acc, x) {\n        return this.f(acc, x);\n      };\n\n      return XWrap;\n    }();\n\n    function _xwrap(fn) {\n      return new XWrap(fn);\n    }\n\n    /**\n     * Creates a function that is bound to a context.\n     * Note: `R.bind` does not provide the additional argument-binding capabilities of\n     * [Function.prototype.bind](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind).\n     *\n     * @func\n     * @memberOf R\n     * @since v0.6.0\n     * @category Function\n     * @category Object\n     * @sig (* -> *) -> {*} -> (* -> *)\n     * @param {Function} fn The function to bind to context\n     * @param {Object} thisObj The context to bind `fn` to\n     * @return {Function} A function that will execute in the context of `thisObj`.\n     * @see R.partial\n     * @example\n     *\n     *      const log = R.bind(console.log, console);\n     *      R.pipe(R.assoc('a', 2), R.tap(log), R.assoc('a', 3))({a: 1}); //=> {a: 3}\n     *      // logs {a: 2}\n     * @symb R.bind(f, o)(a, b) = f.call(o, a, b)\n     */\n\n    var bind =\n    /*#__PURE__*/\n    _curry2$1(function bind(fn, thisObj) {\n      return _arity(fn.length, function () {\n        return fn.apply(thisObj, arguments);\n      });\n    });\n\n    function _arrayReduce(xf, acc, list) {\n      var idx = 0;\n      var len = list.length;\n\n      while (idx < len) {\n        acc = xf['@@transducer/step'](acc, list[idx]);\n\n        if (acc && acc['@@transducer/reduced']) {\n          acc = acc['@@transducer/value'];\n          break;\n        }\n\n        idx += 1;\n      }\n\n      return xf['@@transducer/result'](acc);\n    }\n\n    function _iterableReduce(xf, acc, iter) {\n      var step = iter.next();\n\n      while (!step.done) {\n        acc = xf['@@transducer/step'](acc, step.value);\n\n        if (acc && acc['@@transducer/reduced']) {\n          acc = acc['@@transducer/value'];\n          break;\n        }\n\n        step = iter.next();\n      }\n\n      return xf['@@transducer/result'](acc);\n    }\n\n    function _methodReduce(xf, acc, obj, methodName) {\n      return xf['@@transducer/result'](obj[methodName](bind(xf['@@transducer/step'], xf), acc));\n    }\n\n    var symIterator = typeof Symbol !== 'undefined' ? Symbol.iterator : '@@iterator';\n    function _reduce(fn, acc, list) {\n      if (typeof fn === 'function') {\n        fn = _xwrap(fn);\n      }\n\n      if (_isArrayLike(list)) {\n        return _arrayReduce(fn, acc, list);\n      }\n\n      if (typeof list['fantasy-land/reduce'] === 'function') {\n        return _methodReduce(fn, acc, list, 'fantasy-land/reduce');\n      }\n\n      if (list[symIterator] != null) {\n        return _iterableReduce(fn, acc, list[symIterator]());\n      }\n\n      if (typeof list.next === 'function') {\n        return _iterableReduce(fn, acc, list);\n      }\n\n      if (typeof list.reduce === 'function') {\n        return _methodReduce(fn, acc, list, 'reduce');\n      }\n\n      throw new TypeError('reduce: list must be array or iterable');\n    }\n\n    var XMap =\n    /*#__PURE__*/\n    function () {\n      function XMap(f, xf) {\n        this.xf = xf;\n        this.f = f;\n      }\n\n      XMap.prototype['@@transducer/init'] = _xfBase.init;\n      XMap.prototype['@@transducer/result'] = _xfBase.result;\n\n      XMap.prototype['@@transducer/step'] = function (result, input) {\n        return this.xf['@@transducer/step'](result, this.f(input));\n      };\n\n      return XMap;\n    }();\n\n    var _xmap =\n    /*#__PURE__*/\n    _curry2$1(function _xmap(f, xf) {\n      return new XMap(f, xf);\n    });\n\n    function _has$1(prop, obj) {\n      return Object.prototype.hasOwnProperty.call(obj, prop);\n    }\n\n    var toString$1 = Object.prototype.toString;\n\n    var _isArguments$1 =\n    /*#__PURE__*/\n    function () {\n      return toString$1.call(arguments) === '[object Arguments]' ? function _isArguments(x) {\n        return toString$1.call(x) === '[object Arguments]';\n      } : function _isArguments(x) {\n        return _has$1('callee', x);\n      };\n    }();\n\n    var hasEnumBug$1 = !\n    /*#__PURE__*/\n    {\n      toString: null\n    }.propertyIsEnumerable('toString');\n    var nonEnumerableProps$1 = ['constructor', 'valueOf', 'isPrototypeOf', 'toString', 'propertyIsEnumerable', 'hasOwnProperty', 'toLocaleString']; // Safari bug\n\n    var hasArgsEnumBug$1 =\n    /*#__PURE__*/\n    function () {\n\n      return arguments.propertyIsEnumerable('length');\n    }();\n\n    var contains$1 = function contains(list, item) {\n      var idx = 0;\n\n      while (idx < list.length) {\n        if (list[idx] === item) {\n          return true;\n        }\n\n        idx += 1;\n      }\n\n      return false;\n    };\n    /**\n     * Returns a list containing the names of all the enumerable own properties of\n     * the supplied object.\n     * Note that the order of the output array is not guaranteed to be consistent\n     * across different JS platforms.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category Object\n     * @sig {k: v} -> [k]\n     * @param {Object} obj The object to extract properties from\n     * @return {Array} An array of the object's own properties.\n     * @see R.keysIn, R.values\n     * @example\n     *\n     *      R.keys({a: 1, b: 2, c: 3}); //=> ['a', 'b', 'c']\n     */\n\n\n    var keys$1 = typeof Object.keys === 'function' && !hasArgsEnumBug$1 ?\n    /*#__PURE__*/\n    _curry1$1(function keys(obj) {\n      return Object(obj) !== obj ? [] : Object.keys(obj);\n    }) :\n    /*#__PURE__*/\n    _curry1$1(function keys(obj) {\n      if (Object(obj) !== obj) {\n        return [];\n      }\n\n      var prop, nIdx;\n      var ks = [];\n\n      var checkArgsLength = hasArgsEnumBug$1 && _isArguments$1(obj);\n\n      for (prop in obj) {\n        if (_has$1(prop, obj) && (!checkArgsLength || prop !== 'length')) {\n          ks[ks.length] = prop;\n        }\n      }\n\n      if (hasEnumBug$1) {\n        nIdx = nonEnumerableProps$1.length - 1;\n\n        while (nIdx >= 0) {\n          prop = nonEnumerableProps$1[nIdx];\n\n          if (_has$1(prop, obj) && !contains$1(ks, prop)) {\n            ks[ks.length] = prop;\n          }\n\n          nIdx -= 1;\n        }\n      }\n\n      return ks;\n    });\n\n    /**\n     * Takes a function and\n     * a [functor](https://github.com/fantasyland/fantasy-land#functor),\n     * applies the function to each of the functor's values, and returns\n     * a functor of the same shape.\n     *\n     * Ramda provides suitable `map` implementations for `Array` and `Object`,\n     * so this function may be applied to `[1, 2, 3]` or `{x: 1, y: 2, z: 3}`.\n     *\n     * Dispatches to the `map` method of the second argument, if present.\n     *\n     * Acts as a transducer if a transformer is given in list position.\n     *\n     * Also treats functions as functors and will compose them together.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category List\n     * @sig Functor f => (a -> b) -> f a -> f b\n     * @param {Function} fn The function to be called on every element of the input `list`.\n     * @param {Array} list The list to be iterated over.\n     * @return {Array} The new list.\n     * @see R.transduce, R.addIndex\n     * @example\n     *\n     *      const double = x => x * 2;\n     *\n     *      R.map(double, [1, 2, 3]); //=> [2, 4, 6]\n     *\n     *      R.map(double, {x: 1, y: 2, z: 3}); //=> {x: 2, y: 4, z: 6}\n     * @symb R.map(f, [a, b]) = [f(a), f(b)]\n     * @symb R.map(f, { x: a, y: b }) = { x: f(a), y: f(b) }\n     * @symb R.map(f, functor_o) = functor_o.map(f)\n     */\n\n    var map =\n    /*#__PURE__*/\n    _curry2$1(\n    /*#__PURE__*/\n    _dispatchable(['fantasy-land/map', 'map'], _xmap, function map(fn, functor) {\n      switch (Object.prototype.toString.call(functor)) {\n        case '[object Function]':\n          return curryN(functor.length, function () {\n            return fn.call(this, functor.apply(this, arguments));\n          });\n\n        case '[object Object]':\n          return _reduce(function (acc, key) {\n            acc[key] = fn(functor[key]);\n            return acc;\n          }, {}, keys$1(functor));\n\n        default:\n          return _map(fn, functor);\n      }\n    }));\n\n    /**\n     * Determine if the passed argument is an integer.\n     *\n     * @private\n     * @param {*} n\n     * @category Type\n     * @return {Boolean}\n     */\n    var _isInteger = Number.isInteger || function _isInteger(n) {\n      return n << 0 === n;\n    };\n\n    /**\n     * Returns the nth element of the given list or string. If n is negative the\n     * element at index length + n is returned.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category List\n     * @sig Number -> [a] -> a | Undefined\n     * @sig Number -> String -> String\n     * @param {Number} offset\n     * @param {*} list\n     * @return {*}\n     * @example\n     *\n     *      const list = ['foo', 'bar', 'baz', 'quux'];\n     *      R.nth(1, list); //=> 'bar'\n     *      R.nth(-1, list); //=> 'quux'\n     *      R.nth(-99, list); //=> undefined\n     *\n     *      R.nth(2, 'abc'); //=> 'c'\n     *      R.nth(3, 'abc'); //=> ''\n     * @symb R.nth(-1, [a, b, c]) = c\n     * @symb R.nth(0, [a, b, c]) = a\n     * @symb R.nth(1, [a, b, c]) = b\n     */\n\n    var nth =\n    /*#__PURE__*/\n    _curry2$1(function nth(offset, list) {\n      var idx = offset < 0 ? list.length + offset : offset;\n      return _isString(list) ? list.charAt(idx) : list[idx];\n    });\n\n    /**\n     * Retrieves the values at given paths of an object.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.27.0\n     * @category Object\n     * @typedefn Idx = [String | Int]\n     * @sig [Idx] -> {a} -> [a | Undefined]\n     * @param {Array} pathsArray The array of paths to be fetched.\n     * @param {Object} obj The object to retrieve the nested properties from.\n     * @return {Array} A list consisting of values at paths specified by \"pathsArray\".\n     * @see R.path\n     * @example\n     *\n     *      R.paths([['a', 'b'], ['p', 0, 'q']], {a: {b: 2}, p: [{q: 3}]}); //=> [2, 3]\n     *      R.paths([['a', 'b'], ['p', 'r']], {a: {b: 2}, p: [{q: 3}]}); //=> [2, undefined]\n     */\n\n    var paths =\n    /*#__PURE__*/\n    _curry2$1(function paths(pathsArray, obj) {\n      return pathsArray.map(function (paths) {\n        var val = obj;\n        var idx = 0;\n        var p;\n\n        while (idx < paths.length) {\n          if (val == null) {\n            return;\n          }\n\n          p = paths[idx];\n          val = _isInteger(p) ? nth(p, val) : val[p];\n          idx += 1;\n        }\n\n        return val;\n      });\n    });\n\n    /**\n     * Retrieve the value at a given path.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.2.0\n     * @category Object\n     * @typedefn Idx = String | Int\n     * @sig [Idx] -> {a} -> a | Undefined\n     * @param {Array} path The path to use.\n     * @param {Object} obj The object to retrieve the nested property from.\n     * @return {*} The data at `path`.\n     * @see R.prop, R.nth\n     * @example\n     *\n     *      R.path(['a', 'b'], {a: {b: 2}}); //=> 2\n     *      R.path(['a', 'b'], {c: {b: 2}}); //=> undefined\n     *      R.path(['a', 'b', 0], {a: {b: [1, 2, 3]}}); //=> 1\n     *      R.path(['a', 'b', -2], {a: {b: [1, 2, 3]}}); //=> 2\n     */\n\n    var path =\n    /*#__PURE__*/\n    _curry2$1(function path(pathAr, obj) {\n      return paths([pathAr], obj)[0];\n    });\n\n    /**\n     * Returns a function that when supplied an object returns the indicated\n     * property of that object, if it exists.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.1.0\n     * @category Object\n     * @typedefn Idx = String | Int\n     * @sig Idx -> {s: a} -> a | Undefined\n     * @param {String|Number} p The property name or array index\n     * @param {Object} obj The object to query\n     * @return {*} The value at `obj.p`.\n     * @see R.path, R.nth\n     * @example\n     *\n     *      R.prop('x', {x: 100}); //=> 100\n     *      R.prop('x', {}); //=> undefined\n     *      R.prop(0, [100]); //=> 100\n     *      R.compose(R.inc, R.prop('x'))({ x: 3 }) //=> 4\n     */\n\n    var prop =\n    /*#__PURE__*/\n    _curry2$1(function prop(p, obj) {\n      return path([p], obj);\n    });\n\n    /**\n     * Makes a shallow clone of an object, setting or overriding the specified\n     * property with the given value. Note that this copies and flattens prototype\n     * properties onto the new object as well. All non-primitive properties are\n     * copied by reference.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.8.0\n     * @category Object\n     * @sig String -> a -> {k: v} -> {k: v}\n     * @param {String} prop The property name to set\n     * @param {*} val The new value\n     * @param {Object} obj The object to clone\n     * @return {Object} A new object equivalent to the original except for the changed property.\n     * @see R.dissoc, R.pick\n     * @example\n     *\n     *      R.assoc('c', 3, {a: 1, b: 2}); //=> {a: 1, b: 2, c: 3}\n     */\n\n    var assoc =\n    /*#__PURE__*/\n    _curry3$1(function assoc(prop, val, obj) {\n      var result = {};\n\n      for (var p in obj) {\n        result[p] = obj[p];\n      }\n\n      result[prop] = val;\n      return result;\n    });\n\n    /**\n     * Returns a lens for the given getter and setter functions. The getter \"gets\"\n     * the value of the focus; the setter \"sets\" the value of the focus. The setter\n     * should not mutate the data structure.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.8.0\n     * @category Object\n     * @typedefn Lens s a = Functor f => (a -> f a) -> s -> f s\n     * @sig (s -> a) -> ((a, s) -> s) -> Lens s a\n     * @param {Function} getter\n     * @param {Function} setter\n     * @return {Lens}\n     * @see R.view, R.set, R.over, R.lensIndex, R.lensProp\n     * @example\n     *\n     *      const xLens = R.lens(R.prop('x'), R.assoc('x'));\n     *\n     *      R.view(xLens, {x: 1, y: 2});            //=> 1\n     *      R.set(xLens, 4, {x: 1, y: 2});          //=> {x: 4, y: 2}\n     *      R.over(xLens, R.negate, {x: 1, y: 2});  //=> {x: -1, y: 2}\n     */\n\n    var lens =\n    /*#__PURE__*/\n    _curry2$1(function lens(getter, setter) {\n      return function (toFunctorFn) {\n        return function (target) {\n          return map(function (focus) {\n            return setter(focus, target);\n          }, toFunctorFn(getter(target)));\n        };\n      };\n    });\n\n    /**\n     * Returns a lens whose focus is the specified property.\n     *\n     * @func\n     * @memberOf R\n     * @since v0.14.0\n     * @category Object\n     * @typedefn Lens s a = Functor f => (a -> f a) -> s -> f s\n     * @sig String -> Lens s a\n     * @param {String} k\n     * @return {Lens}\n     * @see R.view, R.set, R.over\n     * @example\n     *\n     *      const xLens = R.lensProp('x');\n     *\n     *      R.view(xLens, {x: 1, y: 2});            //=> 1\n     *      R.set(xLens, 4, {x: 1, y: 2});          //=> {x: 4, y: 2}\n     *      R.over(xLens, R.negate, {x: 1, y: 2});  //=> {x: -1, y: 2}\n     */\n\n    var lensProp =\n    /*#__PURE__*/\n    _curry1$1(function lensProp(k) {\n      return lens(prop(k), assoc(k));\n    });\n\n    var tracker = function (partical) {\r\n        if (typeof partical === 'function') {\r\n            return function (target, key, descriptor) {\r\n                var value = function () {\r\n                    var args = [];\r\n                    for (var _i = 0; _i < arguments.length; _i++) {\r\n                        args[_i] = arguments[_i];\r\n                    }\r\n                    var fn = partical.call(this, descriptor.value, this);\r\n                    if (typeof fn === 'function') {\r\n                        //参数为高阶函数\r\n                        return fn.apply(this, args);\r\n                    }\r\n                    else {\r\n                        //普通函数\r\n                        if (typeof fn === 'object') {\r\n                            var data = __assign({}, fn);\r\n                            instance$1.trackEvent(data);\r\n                        }\r\n                        return descriptor.value.apply(this, arguments);\r\n                    }\r\n                };\r\n                // if (descriptor.initializer) {\r\n                //   return propSet('initializer', function() {\r\n                //     const value = descriptor.initializer.apply(this);\r\n                //     return function (...args) {\r\n                //       return partical.call(this, value, this).apply(this, args);\r\n                //     }\r\n                //   }, descriptor);\r\n                // }\r\n                return set_1(lensProp('value'), value, descriptor);\r\n            };\r\n        }\r\n        else if (typeof partical === 'object') {\r\n            return function (target, key, descriptor) {\r\n                var oldValue = descriptor.value;\r\n                descriptor.value = function () {\r\n                    var data = __assign({}, partical);\r\n                    instance$1.trackEvent(data);\r\n                    return oldValue.apply(this, arguments);\r\n                };\r\n                return descriptor;\r\n            };\r\n        }\r\n        else {\r\n            //参数为string 作为tarckId\r\n            return function (target, key, descriptor) {\r\n                var oldValue = descriptor.value;\r\n                descriptor.value = function () {\r\n                    var data = {\r\n                        trackId: partical\r\n                    };\r\n                    instance$1.trackEvent(data);\r\n                    return oldValue.apply(this, arguments);\r\n                };\r\n                return descriptor;\r\n            };\r\n        }\r\n    };\r\n    //# sourceMappingURL=tracker.js.map\n\n    function _arity$1(n, fn) {\n      /* eslint-disable no-unused-vars */\n      switch (n) {\n        case 0:\n          return function () {\n            return fn.apply(this, arguments);\n          };\n\n        case 1:\n          return function (a0) {\n            return fn.apply(this, arguments);\n          };\n\n        case 2:\n          return function (a0, a1) {\n            return fn.apply(this, arguments);\n          };\n\n        case 3:\n          return function (a0, a1, a2) {\n            return fn.apply(this, arguments);\n          };\n\n        case 4:\n          return function (a0, a1, a2, a3) {\n            return fn.apply(this, arguments);\n          };\n\n        case 5:\n          return function (a0, a1, a2, a3, a4) {\n            return fn.apply(this, arguments);\n          };\n\n        case 6:\n          return function (a0, a1, a2, a3, a4, a5) {\n            return fn.apply(this, arguments);\n          };\n\n        case 7:\n          return function (a0, a1, a2, a3, a4, a5, a6) {\n            return fn.apply(this, arguments);\n          };\n\n        case 8:\n          return function (a0, a1, a2, a3, a4, a5, a6, a7) {\n            return fn.apply(this, arguments);\n          };\n\n        case 9:\n          return function (a0, a1, a2, a3, a4, a5, a6, a7, a8) {\n            return fn.apply(this, arguments);\n          };\n\n        case 10:\n          return function (a0, a1, a2, a3, a4, a5, a6, a7, a8, a9) {\n            return fn.apply(this, arguments);\n          };\n\n        default:\n          throw new Error('First argument to _arity must be a non-negative integer no greater than ten');\n      }\n    }\n\n    var _arity_1 = _arity$1;\n\n    /**\n     * Internal curryN function.\n     *\n     * @private\n     * @category Function\n     * @param {Number} length The arity of the curried function.\n     * @param {Array} received An array of arguments received thus far.\n     * @param {Function} fn The function to curry.\n     * @return {Function} The curried function.\n     */\n\n\n    function _curryN$1(length, received, fn) {\n      return function () {\n        var combined = [];\n        var argsIdx = 0;\n        var left = length;\n        var combinedIdx = 0;\n\n        while (combinedIdx < received.length || argsIdx < arguments.length) {\n          var result;\n\n          if (combinedIdx < received.length && (!_isPlaceholder_1(received[combinedIdx]) || argsIdx >= arguments.length)) {\n            result = received[combinedIdx];\n          } else {\n            result = arguments[argsIdx];\n            argsIdx += 1;\n          }\n\n          combined[combinedIdx] = result;\n\n          if (!_isPlaceholder_1(result)) {\n            left -= 1;\n          }\n\n          combinedIdx += 1;\n        }\n\n        return left <= 0 ? fn.apply(this, combined) : _arity_1(left, _curryN$1(length, combined, fn));\n      };\n    }\n\n    var _curryN_1 = _curryN$1;\n\n    /**\n     * Returns a curried equivalent of the provided function, with the specified\n     * arity. The curried function has two unusual capabilities. First, its\n     * arguments needn't be provided one at a time. If `g` is `R.curryN(3, f)`, the\n     * following are equivalent:\n     *\n     *   - `g(1)(2)(3)`\n     *   - `g(1)(2, 3)`\n     *   - `g(1, 2)(3)`\n     *   - `g(1, 2, 3)`\n     *\n     * Secondly, the special placeholder value [`R.__`](#__) may be used to specify\n     * \"gaps\", allowing partial application of any combination of arguments,\n     * regardless of their positions. If `g` is as above and `_` is [`R.__`](#__),\n     * the following are equivalent:\n     *\n     *   - `g(1, 2, 3)`\n     *   - `g(_, 2, 3)(1)`\n     *   - `g(_, _, 3)(1)(2)`\n     *   - `g(_, _, 3)(1, 2)`\n     *   - `g(_, 2)(1)(3)`\n     *   - `g(_, 2)(1, 3)`\n     *   - `g(_, 2)(_, 3)(1)`\n     *\n     * @func\n     * @memberOf R\n     * @since v0.5.0\n     * @category Function\n     * @sig Number -> (* -> a) -> (* -> a)\n     * @param {Number} length The arity for the returned function.\n     * @param {Function} fn The function to curry.\n     * @return {Function} A new, curried function.\n     * @see R.curry\n     * @example\n     *\n     *      const sumArgs = (...args) => R.sum(args);\n     *\n     *      const curriedAddFourNumbers = R.curryN(4, sumArgs);\n     *      const f = curriedAddFourNumbers(1, 2);\n     *      const g = f(3);\n     *      g(4); //=> 10\n     */\n\n\n    var curryN$1 =\n    /*#__PURE__*/\n    _curry2_1(function curryN(length, fn) {\n      if (length === 1) {\n        return _curry1_1(fn);\n      }\n\n      return _arity_1(length, _curryN_1(length, [], fn));\n    });\n\n    var curryN_1 = curryN$1;\n\n    var before = curryN_1(2, function (trackFn, fn) {\r\n        return function () {\r\n            var args = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                args[_i] = arguments[_i];\r\n            }\r\n            if (typeof trackFn === 'function') {\r\n                try {\r\n                    var result = trackFn.apply(this, args);\r\n                    if (typeof result === 'object') {\r\n                        instance$1.track(result);\r\n                    }\r\n                }\r\n                catch (e) {\r\n                    console.error(e);\r\n                }\r\n            }\r\n            else if (typeof trackFn === 'object') {\r\n                instance$1.track(trackFn);\r\n            }\r\n            else if (typeof trackFn === 'string') {\r\n                var data = {\r\n                    trackId: trackFn\r\n                };\r\n                instance$1.track(data);\r\n            }\r\n            var evalF = function () {\r\n                var _this = this;\r\n                setTimeout(function () {\r\n                    fn.apply(_this, args);\r\n                }, 300);\r\n            };\r\n            return evalF.apply(this);\r\n        };\r\n    });\r\n    var after = curryN_1(2, function (trackFn, fn) {\r\n        return function () {\r\n            var _this = this;\r\n            var args = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                args[_i] = arguments[_i];\r\n            }\r\n            var r = fn.apply(this, args);\r\n            var evalF = function () {\r\n                if (typeof trackFn === 'function') {\r\n                    try {\r\n                        var result = trackFn.apply(_this, args);\r\n                        if (typeof result === 'object') {\r\n                            instance$1.track(result);\r\n                        }\r\n                    }\r\n                    catch (e) {\r\n                        console.error(e);\r\n                    }\r\n                }\r\n                else if (typeof trackFn === 'object') {\r\n                    instance$1.track(trackFn);\r\n                }\r\n                else if (typeof trackFn === 'string') {\r\n                    var data = {\r\n                        trackId: trackFn\r\n                    };\r\n                    instance$1.track(data);\r\n                }\r\n            };\r\n            if (isThenable(r)) {\r\n                return r.then(function (rr) {\r\n                    evalF();\r\n                    return rr;\r\n                });\r\n            }\r\n            evalF();\r\n            return r;\r\n        };\r\n    });\n\n    var generate = function (type) {\r\n        var watch = [];\r\n        var track = {\r\n            bind: function (el, binding, vnode) {\r\n                var index = watch.findIndex(function (element) { return element === el; });\r\n                var isWatched = index !== -1;\r\n                if (el.style.display === 'none') {\r\n                    if (!isWatched)\r\n                        watch.push(el);\r\n                    return;\r\n                }\r\n                else {\r\n                    if (isWatched)\r\n                        watch.splice(index, 1);\r\n                }\r\n                if (!isWatched && (notChanged(binding) || isEmpty(binding)))\r\n                    return;\r\n                var info = {};\r\n                if (typeof binding.value === 'object') {\r\n                    info = binding.value;\r\n                    //if (value.pageURL) args.push(value.pageURL)\r\n                }\r\n                else if (typeof binding.value === 'string' && binding.value) {\r\n                    info.trackId = binding.value;\r\n                }\r\n                if (type === 'PAGE') {\r\n                    instance$1.trackPage(info);\r\n                }\r\n                else {\r\n                    instance$1.trackView(el, info);\r\n                }\r\n            },\r\n            unbind: function (el, binding) {\r\n                var index = watch.findIndex(function (element) { return element === el; });\r\n                if (index !== -1)\r\n                    watch.splice(index, 1);\r\n                instance.end();\r\n            },\r\n            update: function (el, binding, vnode) { }\r\n        };\r\n        track.update = track.bind;\r\n        return track;\r\n    };\r\n    //# sourceMappingURL=generate.js.map\n\n    var trackView = generate('VIEW');\r\n    //# sourceMappingURL=trackView.js.map\n\n    function trackEvent (el, binding) {\r\n        if (notChanged(binding) || isEmpty(binding)) {\r\n            return;\r\n        }\r\n        var info = {};\r\n        if (typeof binding.value === 'object' && binding.value) {\r\n            info = binding.value;\r\n        }\r\n        else if (typeof binding.value === 'string') {\r\n            info.trackId = binding.value;\r\n        }\r\n        else if (typeof binding.value === 'number') {\r\n            info.trackId = binding.value + '';\r\n        }\r\n        el._trackerInfo = info;\r\n        el._isWatchTrack = true; //去除自动点击埋点\r\n        var events = Object.keys(binding.modifiers).filter(function (modifier) {\r\n            return binding.modifiers[modifier];\r\n        });\r\n        if (!events.length)\r\n            events.push('click');\r\n        events.forEach(function (event) {\r\n            el.removeEventListener(event, handleEvent, false);\r\n            el.addEventListener(event, handleEvent, false);\r\n        });\r\n    }\r\n    function handleEvent(e) {\r\n        this._trackerInfo.eventName = e.type.toUpperCase();\r\n        if (this.tagName === 'A' && this.href) {\r\n            instance$1.trackLink(this, this._trackerInfo);\r\n        }\r\n        else {\r\n            instance$1.trackDom(this, this._trackerInfo);\r\n        }\r\n    }\r\n    //# sourceMappingURL=trackEvent.js.map\n\n    var trackPage = generate('PAGE');\r\n    //# sourceMappingURL=trackPage.js.map\n\n    function hijackHistoryEvent () {\r\n        if (getFlag('historyInjected'))\r\n            return;\r\n        function historyEventTrigger(event, data) {\r\n            var fetchEvent = new CustomEvent(event, { detail: data });\r\n            window.dispatchEvent(fetchEvent);\r\n        }\r\n        function spellUrl(oldURL, newURL) {\r\n            if (/:\\/\\//.test(newURL)) {\r\n                return newURL;\r\n            }\r\n            var host = oldURL.match(/^.*:\\/\\/[^/]+/)[0];\r\n            return host + (/^\\//.test(newURL) ? '' : '/') + newURL;\r\n        }\r\n        var globalData = {\r\n            url: getLocationHref()\r\n        };\r\n        var oldOnpopstate = window.onpopstate;\r\n        window.onpopstate = function () {\r\n            var data = {\r\n                newURL: window.location.href,\r\n                oldURL: globalData.url\r\n            };\r\n            globalData.url = window.location.href;\r\n            historyEventTrigger.apply(this, ['historyPopstate', data]);\r\n            if (oldOnpopstate) {\r\n                return oldOnpopstate.apply(this, arguments);\r\n            }\r\n        };\r\n        var oldPushState = window.history.pushState;\r\n        oldPushState &&\r\n            (window.history.pushState = function (state, title, url) {\r\n                var data = {\r\n                    newURL: spellUrl(globalData.url, url),\r\n                    oldURL: globalData.url\r\n                };\r\n                globalData = {\r\n                    url: data.newURL\r\n                };\r\n                historyEventTrigger.apply(this, ['historyPushState', data]);\r\n                if (oldPushState) {\r\n                    return oldPushState.apply(this, arguments);\r\n                }\r\n            });\r\n        setFlag('historyInjected', true);\r\n    }\r\n    //# sourceMappingURL=hijackHistoryEvent.js.map\n\n    function routeChange() {\r\n        instance.change();\r\n    }\r\n    var install = function (conf) {\r\n        if (getFlag('install'))\r\n            return;\r\n        setFlag('install');\r\n        if (conf) {\r\n            setConfig(conf);\r\n        }\r\n        var config = getConfig();\r\n        //注入history事件\r\n        hijackHistoryEvent();\r\n        //自动埋页面\r\n        if (config.autoTrackPage) {\r\n            instance$1.trackPage();\r\n        }\r\n        // if (config.performance) {\r\n        //   actionTracker.trackPerformance();\r\n        // }\r\n        // 页面时间start\r\n        // if (config.pageTime && !pageTimeTracker.info.trackId) {\r\n        //   pageTimeTracker.start();\r\n        // }\r\n        // 单页面应用routerchange\r\n        if (config.watchHistoryAndHash) {\r\n            if (typeof window.onpopstate === 'undefined') {\r\n                window.addEventListener('hashchange', routeChange);\r\n            }\r\n            window.addEventListener('historyPushState', routeChange);\r\n            window.addEventListener('historyPopstate', routeChange);\r\n        }\r\n        // onbeforeunload 和 onunload 都触发发送\r\n        var onLeave = (function () {\r\n            var sended = false;\r\n            return function () {\r\n                if (sended) {\r\n                    return;\r\n                }\r\n                if (config.pageTime) {\r\n                    instance.end();\r\n                }\r\n                sendAsync();\r\n                sended = true;\r\n            };\r\n        })();\r\n        window.addEventListener('beforeunload', onLeave);\r\n        window.addEventListener('unload', onLeave);\r\n        document.addEventListener('click', function (e) {\r\n            var path = e.path;\r\n            var element = e.target;\r\n            if (typeof e.path === 'undefined' || !e.isTrusted) {\r\n                return;\r\n            }\r\n            for (var _i = 0, _a = e.path; _i < _a.length; _i++) {\r\n                var target = _a[_i];\r\n                if (target.tagName === 'BODY') {\r\n                    break;\r\n                }\r\n                //是否有埋点属性\r\n                if (target.getAttribute('data-track') ||\r\n                    (config.autoTrackClick &&\r\n                        (target.tagName === 'A' || target.tagName === 'BUTTON' || target.tagName === 'INPUT') &&\r\n                        !target._isWatchTrack)) {\r\n                    if (element.tagName === 'A' && element.href) {\r\n                        //劫持a链接注入本页面的code\r\n                        var pageId = getPageInfo().pageId;\r\n                        if (typeof pageId === 'string') {\r\n                            if (/\\?.*=/.test(element.href)) {\r\n                                element.href = element.href.replace(/\\?/, \"?referrer-id=\" + pageId + \"&\");\r\n                            }\r\n                            else if (/\\?/.test(element.href) === false) {\r\n                                element.href += \"?referrer-id=\" + pageId;\r\n                            }\r\n                            else {\r\n                                element.href = element.href.replace(/\\?/, \"?referrer-id=\" + pageId);\r\n                            }\r\n                        }\r\n                        instance$1.trackLink(target);\r\n                    }\r\n                    else {\r\n                        instance$1.trackDom(target);\r\n                    }\r\n                }\r\n            }\r\n        }, false);\r\n    };\r\n    //自动install\r\n    window.addEventListener('load', function () {\r\n        var config = getConfig();\r\n        if (config.autoInstall) {\r\n            install();\r\n        }\r\n    });\r\n    //# sourceMappingURL=bindEvent.js.map\n\n    var trackDom = instance$1.trackDom;\r\n    var trackPage$1 = instance$1.trackPage;\r\n    var trackEvent$1 = instance$1.trackEvent;\r\n    var trackView$1 = instance$1.trackView;\r\n    var trackLink = instance$1.trackLink;\r\n    var track = instance$1.track;\r\n    //# sourceMappingURL=internal.js.map\n\n    if (typeof XMLHttpRequest === 'undefined') {\r\n        throw new Error('tracker requires ie10+');\r\n    }\r\n    try {\r\n        \"development\";\r\n    }\r\n    catch (e) {\r\n        var g = typeof window !== 'undefined' ? window : global;\r\n        if (typeof g.process === 'undefined')\r\n            g.process = {};\r\n        g.process.env = {};\r\n    }\r\n    if (typeof _TrackerGlobalData === 'undefined') {\r\n        window._TrackerGlobalData = {};\r\n    }\r\n    //# sourceMappingURL=index.js.map\n\n    exports.actionTracker = instance$1;\n    exports.after = after;\n    exports.before = before;\n    exports.getConfig = getConfig;\n    exports.install = install;\n    exports.login = login;\n    exports.logout = logout;\n    exports.send = send;\n    exports.sendAsync = sendAsync;\n    exports.sendSync = sendSync;\n    exports.setConfig = setConfig;\n    exports.timeTracker = instance;\n    exports.track = track;\n    exports.trackDom = trackDom;\n    exports.trackEvent = trackEvent$1;\n    exports.trackLink = trackLink;\n    exports.trackPage = trackPage$1;\n    exports.trackView = trackView$1;\n    exports.tracker = tracker;\n    exports.vTrackEvent = trackEvent;\n    exports.vTrackPage = trackPage;\n    exports.vTrackView = trackView;\n\n    Object.defineProperty(exports, '__esModule', { value: true });\n\n}));\n//# sourceMappingURL=telescope.min.js.map\n","import { tracker, after, before } from '../../dist/telescope.min';\n\nclass OneClass {\n  constructor() {\n    this.qqq = 'wode';\n  }\n\n  @tracker('fn1')\n  fn1() {\n    console.log('fn1', this);\n  }\n  @tracker({ trackId: 'fn2Id' })\n  fn2() {\n    console.log('fn2', this);\n  }\n  @tracker(function () {\n    console.log(this);\n    return { trackId: 'fn3Id' };\n  })\n  fn3() {\n    console.log('fn3', this);\n  }\n\n  @tracker(\n    after(function () {\n      console.log(this);\n      console.log('fn4 after');\n      return { trackId: 'fn4Id' };\n    })\n  )\n  fn4() {\n    console.log('fn4');\n  }\n\n  @tracker(\n    before(function () {\n      console.log('fn5 before', this);\n      return { trackId: 'fn5Id' };\n    })\n  )\n  fn5() {\n    console.log(this);\n    console.log('fn5');\n  }\n\n  @tracker(\n    after(() => {\n      console.log('fn6 after');\n      return { trackId: 'fn6Id' };\n    })\n  )\n  fn6() {\n    return new Promise((resolve, reject) => {\n      console.log('fn6');\n      setTimeout(() => {\n        resolve();\n      }, 1000);\n    });\n  }\n\n  @tracker(after('fn7Id'))\n  fn7() {\n    console.log('fn7');\n  }\n\n  @tracker(after('fn8Id'))\n  fn8() {\n    console.log('fn8');\n  }\n}\n\nwindow.test = new OneClass();\n"],"names":["global","factory","exports","this","__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","SERVER_URL","window","location","protocol","CUSTOM_TOKEN_KEY","SEND_TYPE","SYNC","ASYNC","UNLOAD","ACTION_TYPE","EVENT","PAGE","VIEW","DURATION","SAFETY_KEY","config","store","trackKey","serverUrl","pageTime","watchHistoryAndHash","env","console","projectId","version","domain","sendType","delayTime","autoTrackPage","autoTrackClick","autoInstall","delayLink","delayLinkTime","useServerTime","corssSubdomain","utokenKey","beforeGenerateLog","scriptDom","document","querySelector","getAttribute","getConfig","setConfig","data","_isPlaceholder","a","_isPlaceholder_1","_curry1","fn","f1","_curry1_1","_curry2","f2","b","_b","_a","_curry2_1","_arrayFromIterator","iter","list","next","done","push","value","_arrayFromIterator_1","_includesWith","pred","x","idx","len","_includesWith_1","_functionName","f","match","String","_functionName_1","_has","prop","obj","_has_1","_objectIs","_objectIs_1","is","toString","_isArguments","_isArguments_1","hasEnumBug","propertyIsEnumerable","nonEnumerableProps","hasArgsEnumBug","contains","item","keys","nIdx","ks","checkArgsLength","keys_1","type","val","undefined","slice","type_1","_uniqContentEquals","aIterator","bIterator","stackA","stackB","eq","_equals","aItem","typeA","equals","constructor","valueOf","name","message","source","ignoreCase","multiline","sticky","unicode","size","entries","concat","values","keysA","extendedStackA","extendedStackB","key","_equals_1","equals_1","isThenable","then","getQueryVariable","variable","query","href","vars","split","pair","getCookie","cookies","cookie","arr","unescape","replace","setCookie","expires","path","getExpires","hours","date","Date","setTime","getTime","toUTCString","notChanged","binding","oldValue","isEmpty","setFlag","_TrackerGlobalData","_trackerFlag","getFlag","getUUID","c","r","Math","random","v","getDomPath","dom","id","tagName","toLowerCase","parentNode","unshift","join","getLocationHref","isObject","o","userInfo","uid","isLogin","setUserInfo","info","getUserInfo","login","utoken","localStorage","getItem","logout","moment","setItem","ua","navigator","userAgent","test","host","deviceIdMatch","pageInfo","pageId","referrerId","referrerUrl","referrer","url","origin","pathname","hash","title","setPageInfo","aaa","getPageInfo","http","isAjax","isSendBeacon","Promise","resolve","dataStr","now","sendBeacon","Blob","headers","blob","success","xhr","XMLHttpRequest","withCredentials","addEventListener","readyState","open","setRequestHeader","send","img","Image","onload","src","encodeURIComponent","libInfo","libVersion","libType","getNetInfo","connection","mozConnection","webkitConnection","effectiveType","netType","clientInfo","clientWidth","screen","height","clientHeight","width","radio","devicePixelRatio","pick","names","result","pick_1","allData","timer","uuid","index","sendSync","sendAsync","newData","_generateData","clearTimeout","_sendToServer","setTimeout","JSON","stringify","_wrapperData","items","custom","customStr","netInfo","actionType","trackTime","PageTimeTracker","startTime","endTime","isStart","backInfo","getInstance","instance","start","_this","isHidden","hidden","end","toSend","change","durationTime","trackId","commonjsGlobal","globalThis","self","createCommonjsModule","module","vissense","root","withWindow","win","product","noConflict","undefined$1","async","callback","delay","args","defer","debounce","cancel","noop","defaults","dest","sourceIsObject","destIsObject","forEach","property","fireIf","when","isFunction","extend","props","ask","array","thisArg","identity","isDefined","isArray","isElement","nodeType","once","cache","called","throttle","wait","last","time","func","viewport","referenceWindow","innerHeight","innerWidth","computedStyle","element","getComputedStyle","styleProperty","style","getPropertyValue","isDisplayed","display","parent","isVisibleByStyling","visibility","isInViewport","rect","bottom","right","top","left","percentage","getBoundingClientRect","view","vh","vw","min","isPageVisible","createVisibilityApi","VisSense","Error","_element","_config","fullyvisible","percentageHook","precision","visibilityHooks","roundFactor","pow","_round","round","visibilityApi","nextState","visobj","currentState","newState","state","previous","VisState","visible","VisMon","strategy","Strategy","PollingStrategy","EventStrategy","_visobj","_state","_started","anyTopicName","_pubsub","PubSub","_events","_strategy","CompositeStrategy","init","on","monitor","newValue","publish","code","event","entry","propertyName","eventName","dict","api","onVisibilityChange","removeEventListener","_cache","_onAnyCache","syncFireListeners","consumers","consumer","topic","applyCallback","listener","unregister","indexOf","splice","listeners","enableAsync","syncOrAsyncPublish","hiddenByHook","hook","perc","isFullyVisible","isVisible","of","STATES","HIDDEN","VISIBLE","FULLY_VISIBLE","newVisState","isInternalEvent","_cancelAsyncStart","startAsync","update","me","cancelAsyncStart","stop","Builder","combineStrategies","strategies","combinedStrategies","forceDisableStrategies","enableStrategies","configStrategyIsDefined","configStrategyIsArray","configStrategyAsArray","events","productBuilt","set","handler","build","manufacture","_strategies","create","interval","_clearInterval","intervalId","setInterval","clearInterval","_removeEventListeners","removeOnVisibilityChangeEvent","Utils","VisibilityApi","_viewport","_isInViewport","_isDisplayed","_computedStyle","_styleProperty","VisSenseUtils","createInnerMonitor","outerMonitor","timeElapsed","timeStarted","timeLimit","percentageLimit","onPercentageTimeTestPassed","hiddenLimit","max","innerMonitor","ActionTracker","trackPage","trackDuration","trackEvent","trackView","visSenseConfig","domId","domClass","className","domTag","domContent","textContent","substr","domPath","track","trackLink","linkDom","e","preventDefault","click","trackDom","_dom","IS_TRACKED","DELAY_TRACK_TIME","trackInfo","domHref","domName","search","parse","instance$1","_curry3","f3","_c","_curry3_1","always","always_1","Identity","map","over","lens","y","over_1","set_1","_isPlaceholder$1","_curry1$1","_curry2$1","_arity","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","_curryN","received","combined","argsIdx","combinedIdx","curryN","_curry3$1","_isArray","Array","_isTransformer","_dispatchable","methodNames","xf","pop","transducer","_xfBase","_map","functor","_isString","_isArrayLike","isArrayLike","XWrap","acc","_xwrap","bind","thisObj","_arrayReduce","_iterableReduce","step","_methodReduce","methodName","symIterator","Symbol","iterator","_reduce","reduce","TypeError","XMap","input","_xmap","_has$1","toString$1","_isArguments$1","hasEnumBug$1","nonEnumerableProps$1","hasArgsEnumBug$1","contains$1","keys$1","_isInteger","Number","isInteger","nth","offset","charAt","paths","pathsArray","pathAr","assoc","getter","setter","toFunctorFn","target","focus","lensProp","k","tracker","partical","descriptor","_i","_arity$1","_arity_1","_curryN$1","_curryN_1","curryN$1","curryN_1","before","trackFn","error","evalF","after","rr","generate","watch","el","vnode","findIndex","isWatched","unbind","_trackerInfo","_isWatchTrack","modifiers","filter","modifier","handleEvent","toUpperCase","hijackHistoryEvent","historyEventTrigger","fetchEvent","CustomEvent","detail","dispatchEvent","spellUrl","oldURL","newURL","globalData","oldOnpopstate","onpopstate","oldPushState","history","pushState","routeChange","install","conf","onLeave","sended","isTrusted","trackPage$1","trackEvent$1","trackView$1","g","process","actionTracker","timeTracker","vTrackEvent","vTrackPage","vTrackView","defineProperty","OneClass","log","qqq","reject"],"mappings":"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"}